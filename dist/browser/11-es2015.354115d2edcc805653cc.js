(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Q5Pj:function(e,t,r){"use strict";r.r(t),r.d(t,"OrdersModule",(function(){return Ni}));var n=r("J7v2"),i=r("qRKR"),c=r("QXA5"),l=r("yq25"),s=r("GUP0"),o=r("Ko4x"),d=r("A1Tq"),a=r("LcQX"),u=r("Wlo7"),b=r("8Y7J"),p=r("nWvw"),g=r("SVse"),y=r("xkgV"),h=r("v/H2");function f(e,t){1&e&&(b.Zb(0,"div",3),b.Zb(1,"div",15),b.Ub(2,"p",16),b.Ub(3,"p"),b.Yb(),b.Yb())}r("Ajdf");const m=function(e,t){return{"background-color":e,"border-color":t}};let H=(()=>{class e{constructor(e){this.util=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-list-item-skeleton"]],inputs:{style:"style",settings:"settings"},decls:27,vars:7,consts:[[1,"skeleton","track_order_outter",3,"ngStyle"],[1,"head"],[1,"row"],[1,"col-md-6"],[1,"float-left"],[1,"float-right"],[1,"row","order"],[1,"float-left","date"],[1,"body"],[1,"row","item-row","mt-2"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"foot"],[2,"margin-top","-6px"],[1,"float-right","cancel-btn","margin-left-10"],[1,"float-right","cancel-btn"],[1,"item-column"],[1,"ellipsis"]],template:function(e,t){1&e&&(b.Xb(0),b.Zb(1,"div",0),b.Zb(2,"div",1),b.Zb(3,"div",2),b.Zb(4,"div",3),b.Ub(5,"h5",4),b.Yb(),b.Zb(6,"div",3),b.Ub(7,"h5",5),b.Yb(),b.Yb(),b.Zb(8,"div",6),b.Zb(9,"div",3),b.Zb(10,"div",7),b.Ub(11,"p"),b.Yb(),b.Yb(),b.Zb(12,"div",3),b.Ub(13,"p",5),b.Yb(),b.Yb(),b.Yb(),b.Zb(14,"div",8),b.Zb(15,"div",9),b.Oc(16,f,4,0,"div",10),b.Yb(),b.Yb(),b.Zb(17,"div",11),b.Zb(18,"div",2),b.Zb(19,"div",3),b.Zb(20,"div",7),b.Zb(21,"span"),b.Ub(22,"p"),b.Yb(),b.Yb(),b.Yb(),b.Zb(23,"div",3),b.Zb(24,"div",12),b.Ub(25,"a",13),b.Ub(26,"a",14),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Wb()),2&e&&(b.Hb(1),b.rc("ngStyle",b.xc(4,m,t.style.cardBackgroundColor,t.style.secondaryColor)),b.Hb(15),b.rc("ngForOf",t.util.generateFakeList(2)),b.Hb(4),b.Nc("color",t.style.defaultColor))},directives:[g.n,g.l],styles:["a[_ngcontent-%COMP%]{width:100px}.track_order_outter[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border:none}"]}),e})();var O=r("TSSN"),_=r("mh11");function v(e,t){if(1&e&&(b.Zb(0,"div",2),b.Zb(1,"div",3),b.Zb(2,"b"),b.Qc(3,"Description:"),b.Yb(),b.Qc(4),b.Yb(),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(4),b.Sc(" ",null==e?null:e.prescription,"")}}const k=function(e,t){return{borderColor:e,color:t}};function Y(e,t){if(1&e){const e=b.ac();b.Zb(0,"a",22),b.gc("click",(function(){b.Hc(e);const t=b.kc().$implicit;return b.kc(3).rejectRequest(t)})),b.Qc(1),b.lc(2,"translate"),b.lc(3,"localization"),b.Yb()}if(2&e){const e=b.kc().$implicit,t=b.kc(3);b.rc("ngStyle",b.xc(7,k,null==t.style?null:t.style.primarycolor,null==t.style?null:t.style.primaryColor)),b.Hb(1),b.Sc("Reject ",b.mc(2,2,b.nc(3,4,"order",null==e?null:e.type))," Request")}}const Z=function(e,t){return{"background-color":e,"border-color":t}},C=function(){return[0,1]};function I(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",13),b.Zb(1,"div",14),b.Zb(2,"div",15),b.Zb(3,"div",2),b.Zb(4,"div",16),b.Zb(5,"div",2),b.Zb(6,"div",3),b.Zb(7,"b"),b.Qc(8,"Request Id:"),b.Yb(),b.Qc(9),b.Yb(),b.Yb(),b.Zb(10,"div",2),b.Zb(11,"div",3),b.Zb(12,"b"),b.Qc(13,"Requested On:"),b.Yb(),b.Qc(14),b.lc(15,"date"),b.Yb(),b.Yb(),b.Zb(16,"div",2),b.Zb(17,"div",3),b.Zb(18,"b"),b.Qc(19),b.lc(20,"translate"),b.lc(21,"localization"),b.Yb(),b.Qc(22),b.Yb(),b.Yb(),b.Oc(23,v,5,1,"div",9),b.Yb(),b.Zb(24,"div",17),b.Zb(25,"img",18),b.gc("click",(function(){b.Hc(e);const r=t.$implicit;return b.kc(3).viewAttachment(null==r?null:r.prescription_image)})),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(26,"div",19),b.Zb(27,"div",2),b.Zb(28,"div",13),b.Zb(29,"a",20),b.Zb(30,"b"),b.Qc(31,"Status :"),b.Yb(),b.Qc(32),b.Yb(),b.Yb(),b.Zb(33,"div",13),b.Oc(34,Y,4,10,"a",21),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(3);b.Hb(1),b.rc("ngStyle",b.xc(17,Z,r.style.cardBackgroundColor,r.style.secondaryColor)),b.Hb(8),b.Sc(" ",null==e?null:e.id,""),b.Hb(5),b.Sc(" ",b.oc(15,9,null==e?null:e.created_at,"medium","+000"),""),b.Hb(5),b.Sc("",b.mc(20,13,b.mc(21,15,"supplier")),":"),b.Hb(3),b.Sc(" ",null==e?null:e.name," "),b.Hb(1),b.rc("ngIf",null==e?null:e.prescription),b.Hb(2),b.rc("src",null!=e&&e.prescription_image?null==e?null:e.prescription_image:"/assets/images/placeholder_image.svg",b.Jc),b.Hb(7),b.Sc(" ",r.request_status[null==e?null:e.status]," "),b.Hb(2),b.rc("ngIf",b.vc(20,C).includes(null==e?null:e.status))}}function S(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",23),b.Zb(1,"pagination-controls",24),b.gc("pageChange",(function(t){return b.Hc(e),b.kc(3).pageChange(t)})),b.Yb(),b.Yb()}if(2&e){const e=b.kc(3);b.Hb(1),b.Nc("color",e.style.primaryColor)}}const Q=function(e,t,r){return{itemsPerPage:e,currentPage:t,totalItems:r}};function T(e,t){if(1&e&&(b.Zb(0,"div",2),b.Oc(1,I,35,21,"div",11),b.lc(2,"paginate"),b.Oc(3,S,2,2,"div",12),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.rc("ngForOf",b.nc(2,2,e.orders,b.yc(5,Q,e.pagination.perPageOrder,e.pagination.currentPage,e.pagination.count))),b.Hb(2),b.rc("ngIf",e.pagination.count>e.pagination.perPageOrder)}}function P(e,t){if(1&e&&(b.Zb(0,"div",25),b.Zb(1,"h1"),b.Qc(2),b.lc(3,"translate"),b.lc(4,"localization"),b.lc(5,"translate"),b.Yb(),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.Uc("",b.mc(3,5,"No")," ",b.mc(4,7,"order")," ",b.mc(5,9,"Found"),"")}}function w(e,t){if(1&e&&(b.Xb(0),b.Oc(1,T,4,9,"div",9),b.Oc(2,P,6,11,"div",10),b.Wb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngIf",e.pagination.count>0),b.Hb(1),b.rc("ngIf",!e.pagination.count&&e.noData)}}function D(e,t){if(1&e&&(b.Zb(0,"div",27),b.Ub(1,"app-order-list-item-skeleton",28),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.Mc(e.style),b.rc("settings",e.settings)}}function x(e,t){if(1&e&&(b.Zb(0,"div",2),b.Oc(1,D,2,3,"div",26),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngForOf",e.util.generateFakeList(6))}}let N=(()=>{class e{constructor(e,t,r,n){this.util=e,this.http=t,this.message=r,this.dialogService=n,this.isLoading=!1,this.noData=!1,this.orders=[],this.request_status=[],this.pagination=new o.a,this.pagination.perPageOrder=6,this.request_status=["Pending","Approved","Rejected By Admin","Cancelled By User"]}ngOnInit(){this.styleSubscription=this.util.getStyles.subscribe(e=>{this.style=e}),this.settingsSubscription=this.util.getSettings.subscribe(e=>{e&&(this.settings=e)}),this.getOrderResuestList()}getOrderResuestList(){this.isLoading=!0;let e={offset:this.pagination.offset,limit:this.pagination.perPageOrder};this.noData=!1,this.http.getData(u.a.orders.requestList,e).subscribe(e=>{this.noData=!0,e&&e.data&&(this.pagination.count=e.data.totalCount,this.orders=e.data.data),this.isLoading=!1},e=>this.isLoading=!1)}rejectRequest(e){this.message.confirm("reject this request").then(t=>{t.value&&this.http.putData(u.a.orders.rejectOrderRequest,{id:e.id,reason:""}).subscribe(e=>{e&&(this.message.toast("success","Request Rejected"),this.getOrderResuestList())})})}viewAttachment(e){this.dialogService.open(l.a,{dismissableMask:!0,showHeader:!1,transitionOptions:"600ms cubic-bezier(0.25, 0.8, 0.25, 1)",data:{url:e,type:"image"}})}ngOnDestroy(){this.styleSubscription.unsubscribe(),this.settingsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a),b.Tb(d.a),b.Tb(s.a),b.Tb(p.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-request"]],decls:20,vars:16,consts:[[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)",1,"active"],[1,"product_result_body"],[1,"row",2,"margin-bottom","20px"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","row",4,"ngIf"],["class","no-data",4,"ngIf"],["class","col-md-6",4,"ngFor","ngForOf"],["class","custom-pagination",4,"ngIf"],[1,"col-md-6"],[1,"track_order_outter","order-request",3,"ngStyle"],[1,"head"],[1,"col-md-8"],[1,"col-md-4"],["onError","src = '/assets/images/placeholder_image.svg';",3,"src","click"],[1,"foot"],[1,"float-left",2,"margin-top","5px"],["class","float-right cancel-btn margin-left-10",3,"ngStyle","click",4,"ngIf"],[1,"float-right","cancel-btn","margin-left-10",3,"ngStyle","click"],[1,"custom-pagination"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"no-data"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],[3,"settings"]],template:function(e,t){if(1&e&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"ul"),b.Zb(5,"li"),b.Zb(6,"a",4),b.Qc(7),b.lc(8,"translate"),b.lc(9,"localization"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(10,"section",5),b.Zb(11,"div",1),b.Zb(12,"div",6),b.Zb(13,"div",3),b.Zb(14,"h1"),b.Qc(15),b.lc(16,"localization"),b.Yb(),b.Yb(),b.Yb(),b.Oc(17,w,3,2,"ng-container",7),b.Oc(18,x,2,1,"ng-template",null,8,b.Pc),b.Yb(),b.Yb()),2&e){const e=b.Ec(19);b.Nc("background-color",t.style.backgroundColor),b.Hb(6),b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc(" ",b.mc(8,10,b.mc(9,12,"orders"))," Request"),b.Hb(7),b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc("",b.mc(16,14,"orders")," Requests"),b.Hb(2),b.rc("ngIf",!t.isLoading)("ngIfElse",e)}},directives:[g.m,g.l,g.n,y.c,H],pipes:[O.d,_.a,y.b,g.e],styles:[".order-request[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;-o-object-fit:contain;object-fit:contain;border:1px solid rgba(0,0,0,.25);border-radius:4px;cursor:pointer;width:100%}.order-request[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{height:70px;border-top:1px solid rgba(0,0,0,.16);padding-top:15px;padding-bottom:10px}"]}),e})();var M=r("mrSG"),R=r("esXn"),F=r("63YN"),E=r("CFL1"),U=r("wd/R"),q=r("LvDl"),A=r.n(q),z=r("/sOQ"),L=r("GS7A"),B=r("26ot"),j=r("PSD3"),W=r.n(j),G=r("IyPW"),V=r("P12i"),X=r("iInd"),J=r("s7LF"),K=r("nQ0Q"),ee=r("uf7V");function te(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",4),b.Zb(1,"button",5),b.Qc(2),b.Ub(3,"i",6),b.Yb(),b.Zb(4,"div",7),b.Zb(5,"a",8),b.gc("click",(function(){return b.Hc(e),b.kc().paymentType=0})),b.Qc(6,"Cash On Delivery"),b.Yb(),b.Zb(7,"a",8),b.gc("click",(function(){return b.Hc(e),b.kc().paymentType=1})),b.Qc(8,"Online"),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=b.kc();b.Hb(2),b.Sc(" Payment Method: ",1==e.paymentType?"Online":"Cash On Delivery"," ")}}function re(e,t){if(1&e){const e=b.ac();b.Zb(0,"app-online-payment",9),b.gc("onError",(function(){return b.Hc(e),b.kc().onPaymentError()}))("onClose",(function(t){return b.Hc(e),b.kc().isPayOnline=t}))("onSuccess",(function(t){return b.Hc(e),b.kc().onPaymentSuccess(t)})),b.Yb()}if(2&e){const e=b.kc();b.rc("settings",e.settings)("order",e.paymentOrderModel)("geofencedGateways",e.geofencedGateways)}}function ne(e,t){1&e&&b.Ub(0,"app-processing-indicator")}const ie=function(e,t){return{"border-color":e,color:t}};let ce=(()=>{class e{constructor(e,t,r,n){this.message=e,this.http=t,this.util=r,this.translate=n,this.paymentComplete=new b.q,this.service_charge=0,this.transaction={},this.isPayOnline=!1,this.loading=!1,this.currency="",this.paymentType=1,this.geofencedGateways=[],this.hidePaymentModeSelection=!1,this.currency=z.a.CURRENCY}ngOnInit(){1==this.settings.is_tax_geofence&&this.getGeofenceArea()}orderPayment(){1==this.paymentType&&3==this.order.payment_type||1==this.order.payment_type?this.isPayOnline=!0:this.makePayment()}onPaymentError(e){this.isPayOnline=!1,this.message.toast("error",e)}onPaymentSuccess(e){this.transaction=e,this.isPayOnline=!1,this.makePayment()}getGeofenceArea(){this.http.getData(u.a.orders.geofenceAreas,{lat:this.order.to_latitude,long:this.order.to_longitude}).subscribe(e=>{if(e&&e.data&&(this.geofencedGateways=e.data.gateways,this.geofencedGateways.length)){let e=this.geofencedGateways.findIndex(e=>"cod"===e);e>-1?(this.geofencedGateways.splice(e,1),this.geofencedGateways.length||(this.hidePaymentModeSelection=!0,this.paymentType=0)):(this.paymentType=1,this.hidePaymentModeSelection=!0)}})}makePayment(){this.loading=!0;let e={order_id:this.order.order_id.toString(),currency:z.a.CURRENCY_NAME,card_id:"",payment_token:this.transaction.token,gateway_unique_id:this.transaction.paymentGatewayId,languageId:this.util.handler.languageId},t="";this.order.remaining_amount?t=u.a.orders.payRmainingAmount:(e.payment_type=1==this.order.payment_after_confirmation&&3==this.order.payment_type?this.paymentType:this.order.payment_type,t=u.a.orders.orderPayment),this.http.postData(t,e).subscribe(e=>{e&&(this.message.toast("success",this.translate.instant("Payment Successfully")),this.paymentComplete.emit()),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(s.a),b.Tb(d.a),b.Tb(a.a),b.Tb(O.e))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-payment"]],inputs:{order:"order",style:"style",settings:"settings"},outputs:{paymentComplete:"paymentComplete"},decls:5,vars:9,consts:[["class","dropdown",4,"ngIf"],[1,"btn","cancel-order",2,"margin-left","10px",3,"ngStyle","click"],[3,"settings","order","geofencedGateways","onError","onClose","onSuccess",4,"ngIf"],[4,"ngIf"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","cancel-order","dropdown-toggle"],[1,"fa","fa-chevron-down"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item","pointer",3,"click"],[3,"settings","order","geofencedGateways","onError","onClose","onSuccess"]],template:function(e,t){1&e&&(b.Oc(0,te,9,1,"div",0),b.Zb(1,"button",1),b.gc("click",(function(){return t.orderPayment()})),b.Qc(2),b.Yb(),b.Oc(3,re,1,3,"app-online-payment",2),b.Oc(4,ne,1,0,"app-processing-indicator",3)),2&e&&(b.rc("ngIf",1==t.order.payment_after_confirmation&&3==t.order.payment_type&&!t.hidePaymentModeSelection),b.Hb(1),b.rc("ngStyle",b.xc(6,ie,t.style.primaryColor,t.style.baseColor)),b.Hb(1),b.Tc(" Pay ",t.currency,"",t.order.remaining_amount&&1==t.order.is_edit?t.order.remaining_amount:t.order.net_amount,"\n"),b.Hb(1),b.rc("ngIf",t.isPayOnline),b.Hb(1),b.rc("ngIf",t.loading))},directives:[g.m,g.n,K.a,ee.a],styles:[""]}),e})();var le=r("xpiA");let se=(()=>{class e{constructor(e,t,r){this.router=e,this.util=t,this.cartService=r,this.reOrderButton=new le.a}ngOnInit(){this.buttonStyleChange()}ngOnChanges(){this.buttonStyleChange()}buttonStyleChange(){this.reOrderButton.color="#FFFFFF",this.reOrderButton.borderColor=this.style.primaryColor,this.reOrderButton.backgroundColor=this.style.primaryColor}onReOrder(){const e=this.mapForCart(this.order);this.cartService.setOrderPickType(parseInt(this.order.self_pickup)),this.util.setCart(e),this.router.navigate(["/cart"])}mapForCart(e){let t=[];return e.product.forEach(e=>{if(e.adds_on&&e.adds_on.length){const t=A.a.groupBy(e.adds_on,"serial_number");if(Object.keys(t).length){const r=[];let n=0;for(let e in t){let i=t[e];r.push({id:++n,quantity:i[0].quantity,data:this.makeCustomizationModel(i)})}e.customization=r}e.selectedQuantity=e.customization.reduce((e,t)=>e+(t.quantity||0),0)}else e.selectedQuantity=e.quantity;e.productId=e.product_id||e.productId,delete e.product_id,t.push(e)}),t}makeCustomizationModel(e){let t=[];const r=A.a.groupBy(e,"adds_on_name");for(let n in r){let e={name:n,value:[],selectedCount:1};e.value=r[n].map(e=>({type_name:e.adds_on_type_name,type_id:e.adds_on_type_jd,name:n,id:e.adds_on_id,price:e.price,quantity:e.quantity,adds_on_type_quantity:e.adds_on_type_quantity})),t.push(e)}return t}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(X.g),b.Tb(a.a),b.Tb(R.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-re-order"]],inputs:{order:"order",style:"style",settings:"settings"},features:[b.Fb],decls:4,vars:4,consts:[[1,"reorder",3,"ngStyle","click"]],template:function(e,t){1&e&&(b.Xb(0),b.Zb(1,"button",0),b.gc("click",(function(){return t.onReOrder()})),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Wb()),2&e&&(b.Hb(1),b.rc("ngStyle",t.reOrderButton),b.Hb(1),b.Sc(" ",b.mc(3,2,"Reorder")," "))},directives:[g.n],pipes:[O.d],encapsulation:2}),e})();var oe=r("9IBG");function de(e,t){if(1&e){const e=b.ac();b.Zb(0,"li",5),b.gc("click",(function(){b.Hc(e);const t=b.kc(2);return t.viewAttachment(t.order.pres_image1)})),b.Ub(1,"img",6),b.Yb()}if(2&e){const e=b.kc(2);b.Hb(1),b.sc("src",e.order.pres_image1,b.Jc)}}function ae(e,t){if(1&e){const e=b.ac();b.Zb(0,"li",5),b.gc("click",(function(){b.Hc(e);const t=b.kc(2);return t.viewAttachment(t.order.pres_image2)})),b.Ub(1,"img",6),b.Yb()}if(2&e){const e=b.kc(2);b.Hb(1),b.sc("src",e.order.pres_image2,b.Jc)}}function ue(e,t){if(1&e){const e=b.ac();b.Zb(0,"li",5),b.gc("click",(function(){b.Hc(e);const t=b.kc(2);return t.viewAttachment(t.order.pres_image3)})),b.Ub(1,"img",6),b.Yb()}if(2&e){const e=b.kc(2);b.Hb(1),b.sc("src",e.order.pres_image3,b.Jc)}}function be(e,t){if(1&e){const e=b.ac();b.Zb(0,"li",5),b.gc("click",(function(){b.Hc(e);const t=b.kc(2);return t.viewAttachment(t.order.pres_image4)})),b.Ub(1,"img",6),b.Yb()}if(2&e){const e=b.kc(2);b.Hb(1),b.sc("src",e.order.pres_image4,b.Jc)}}function pe(e,t){if(1&e){const e=b.ac();b.Zb(0,"li",5),b.gc("click",(function(){b.Hc(e);const t=b.kc(2);return t.viewAttachment(t.order.pres_image5)})),b.Ub(1,"img",6),b.Yb()}if(2&e){const e=b.kc(2);b.Hb(1),b.sc("src",e.order.pres_image5,b.Jc)}}function ge(e,t){if(1&e&&(b.Zb(0,"div",1),b.Zb(1,"h4",2),b.Qc(2),b.lc(3,"localization"),b.Yb(),b.Zb(4,"div",3),b.Zb(5,"ul"),b.Oc(6,de,2,1,"li",4),b.Oc(7,ae,2,1,"li",4),b.Oc(8,ue,2,1,"li",4),b.Oc(9,be,2,1,"li",4),b.Oc(10,pe,2,1,"li",4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(2),b.Rc(b.nc(3,6,"prescription_value",null==e.order?null:e.order.type)),b.Hb(4),b.rc("ngIf",e.order.pres_image1),b.Hb(1),b.rc("ngIf",e.order.pres_image2),b.Hb(1),b.rc("ngIf",e.order.pres_image3),b.Hb(1),b.rc("ngIf",e.order.pres_image4),b.Hb(1),b.rc("ngIf",e.order.pres_image5)}}function ye(e,t){if(1&e&&(b.Zb(0,"div",1),b.Zb(1,"h4",7),b.Qc(2),b.lc(3,"localization"),b.Yb(),b.Zb(4,"div",8),b.Zb(5,"p"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(2),b.Rc(b.nc(3,2,"instruction",null==e.order?null:e.order.type)),b.Hb(4),b.Rc(e.order.pres_description)}}let he=(()=>{class e{constructor(e){this.dialogService=e}ngOnInit(){}viewAttachment(e){this.dialogService.open(l.a,{dismissableMask:!0,showHeader:!1,transitionOptions:"600ms cubic-bezier(0.25, 0.8, 0.25, 1)",data:{url:e,type:"image"}}).onClose.subscribe(()=>{})}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(p.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-attachments"]],inputs:{order:"order",settings:"settings"},decls:2,vars:2,consts:[["class","m-top-30",4,"ngIf"],[1,"m-top-30"],[2,"color","#4a4a4a","font-weight","500"],[1,"box","prescription"],[3,"click",4,"ngIf"],[3,"click"],[3,"src"],[2,"font-weight","500"],[1,"box","instructions"]],template:function(e,t){1&e&&(b.Oc(0,ge,11,9,"div",0),b.Oc(1,ye,7,5,"div",0)),2&e&&(b.rc("ngIf",((null==t.settings?null:t.settings.cart_image_upload)||(null==t.settings?null:t.settings.product_prescription))&&t.order.pres_image1),b.Hb(1),b.rc("ngIf",1==t.settings.order_instructions&&t.order.pres_description))},directives:[g.m],pipes:[_.a],styles:["h4[_ngcontent-%COMP%]{color:var(--baseColor)}.box[_ngcontent-%COMP%]{border:1px solid #ececec;border-radius:20px;margin:10px 0;background-color:var(--cardBackgroundColor)}.prescription[_ngcontent-%COMP%]{padding:15px}.prescription[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-flex}.prescription[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:15px;list-style-type:none}.prescription[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;width:70px;border-radius:4px;cursor:pointer}.instructions[_ngcontent-%COMP%]{padding:15px;overflow:auto}"]}),e})();var fe=r("1DIQ"),me=r("Tblf");let He=(()=>{class e{constructor(e){this.util=e,this.app_type=0,this.is_single_vendor=0,this.langType="english",this.terminology={},this.categories=[],this.categorySubscription=this.util.getLanguageCategoryData.subscribe(e=>{e&&e.english&&(this.categories=e.english)}),this.settingSubscription=this.util.getSettings.subscribe(e=>{e&&(this.app_type=e.app_type,this.is_single_vendor=e.is_single_vendor,this.settings=e)});let t=this.util.getLocalData("langData",!0)||{id:this.util.handler.languageId};this.langType=t&&14==t.id?"english":"other"}selectTerminology(e){if(this.settings.isCustomFlow){const t=this.categories.find(t=>t.type==e);t&&t.terminology&&(this.terminology=JSON.parse(t.terminology))}else this.terminology=this.settings.terminology||{}}transform(e,t){t&&t.type&&(this.app_type=t.type),this.selectTerminology(this.app_type);let r="";switch(e){case 0:r="Pending";break;case 1:switch(this.app_type){case 2:r="Approved";break;case 1:case 8:r="Confirmed"}break;case 2:r="Rejected";break;case 3:switch(this.app_type){case 1:case 3:case 4:r=t&&3==t.self_pickup&&1==t.is_dine_in?"Ready To Serve":"On The Way";break;case 2:r="Out For Delivery";break;case 8:r="Started"}break;case 4:switch(this.app_type){case 1:r="Arrived";break;default:r="Near You"}break;case 5:switch(this.app_type){case 8:r="Ended";break;default:r=t&&3==t.self_pickup&&1==t.is_dine_in?"Served":"Delivered"}break;case 6:r="Rating Given";break;case 7:r="Track";break;case 8:r="Customer Canceled";break;case 9:r="Scheduled";break;case 10:switch(this.app_type){case 8:r="Reached";break;case 1:r="Ready To Be Picked";break;default:r="Shipped"}break;case 11:switch(this.app_type){case 2:case 4:case 3:r="Packed";break;case 1:r="In Kitchen";break;case 8:r=t&&3==t.self_pickup&&1==t.is_dine_in?"Ready To Serve":"On The Way"}}return t&&3!=t.self_pickup&&1!=t.is_dine_in&&(r=this.terminology&&this.terminology[this.langType]&&this.terminology[this.langType].status&&this.terminology[this.langType].status[""+e]?this.terminology[this.langType].status[""+e]:r),r}ngOnDestroy(){this.settingSubscription&&this.settingSubscription.unsubscribe(),this.categorySubscription&&this.categorySubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a))},e.\u0275pipe=b.Sb({name:"orderStatus",type:e,pure:!0}),e})();const Oe=function(e){return{color:e,opacity:.5}};function _e(e,t){if(1&e&&(b.Zb(0,"p",9),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc();b.rc("ngStyle",b.wc(6,Oe,e.style.baseColor)),b.Hb(1),b.Sc(" ",b.oc(2,2,null==e.order?null:e.order.confirmed_on,"medium","+000")," ")}}function ve(e,t){if(1&e&&(b.Zb(0,"p",9),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc();b.rc("ngStyle",b.wc(6,Oe,e.style.baseColor)),b.Hb(1),b.Sc(" ",b.oc(2,2,null==e.order?null:e.order.progress_on,"medium","+000")," ")}}function ke(e,t){if(1&e&&(b.Zb(0,"p",9),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc(2);b.rc("ngStyle",b.wc(6,Oe,e.style.baseColor)),b.Hb(1),b.Sc(" ",b.oc(2,2,null==e.order?null:e.order.near_on,"medium","+000")," ")}}const Ye=function(){return[3,5,10]},Ze=function(){return[3,5,6,10]};function Ce(e,t){if(1&e&&(b.Zb(0,"div",2),b.Ub(1,"div",3),b.Zb(2,"div",4),b.Zb(3,"h4",5),b.Qc(4),b.lc(5,"orderStatus"),b.Yb(),b.Oc(6,ke,3,8,"p",6),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngClass",b.vc(7,Ye).includes(null==e.order?null:e.order.status)?"active":""),b.Hb(2),b.rc("ngClass",b.vc(8,Ze).includes(null==e.order?null:e.order.status)?"active":"in-active"),b.Hb(1),b.Sc(" ",b.nc(5,4,10,e.order),""),b.Hb(2),b.rc("ngIf",(null==e.order?null:e.order.near_on)&&"Invalid date"!=(null==e.order?null:e.order.near_on))}}function Ie(e,t){if(1&e&&(b.Zb(0,"p",9),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc(2);b.rc("ngStyle",b.wc(6,Oe,e.style.baseColor)),b.Hb(1),b.Sc(" ",b.oc(2,2,null==e.order?null:e.order.shipped_on,"medium","+000")," ")}}const Se=function(){return[3,5,6]};function Qe(e,t){if(1&e&&(b.Zb(0,"div",2),b.Ub(1,"div",3),b.Zb(2,"div",4),b.Zb(3,"h4",5),b.Qc(4),b.lc(5,"orderStatus"),b.Yb(),b.Oc(6,Ie,3,8,"p",6),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngClass",b.vc(7,Se).includes(null==e.order?null:e.order.status)?"active":""),b.Hb(2),b.rc("ngClass",b.vc(8,Se).includes(null==e.order?null:e.order.status)?"active":"in-active"),b.Hb(1),b.Sc(" ",b.nc(5,4,3,e.order)," "),b.Hb(2),b.rc("ngIf",(null==e.order?null:e.order.shipped_on)&&"Invalid date"!=(null==e.order?null:e.order.shipped_on)&&b.vc(9,Se).includes(null==e.order?null:e.order.status))}}function Te(e,t){if(1&e&&(b.Zb(0,"p",9),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc(2);b.rc("ngStyle",b.wc(6,Oe,e.style.baseColor)),b.Hb(1),b.Sc(" ",b.oc(2,2,null==e.order?null:e.order.shipped_on,"medium","+000")," ")}}const Pe=function(){return[5,6,10]};function we(e,t){if(1&e&&(b.Zb(0,"div",2),b.Ub(1,"div",3),b.Zb(2,"div",4),b.Zb(3,"h4",5),b.Qc(4),b.lc(5,"orderStatus"),b.Yb(),b.Oc(6,Te,3,8,"p",6),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngClass",b.vc(7,Pe).includes(null==e.order?null:e.order.status)?"active":""),b.Hb(2),b.rc("ngClass",b.vc(8,Pe).includes(null==e.order?null:e.order.status)?"active":"in-active"),b.Hb(1),b.Sc(" ",b.nc(5,4,10,e.order),""),b.Hb(2),b.rc("ngIf",(null==e.order?null:e.order.shipped_on)&&"Invalid date"!=(null==e.order?null:e.order.shipped_on))}}function De(e,t){if(1&e&&(b.Zb(0,"p",9),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc();b.rc("ngStyle",b.wc(6,Oe,e.style.baseColor)),b.Hb(1),b.Sc(" ",b.oc(2,2,null==e.order?null:e.order.delivered_on,"medium","+000")," ")}}const xe=function(e,t){return{"background-color":e,"border-color":t}},Ne=function(){return[1,3,4,5,6,10,11]},Me=function(){return[3,5,6,10,11]},Re=function(){return[2,8]},Fe=function(){return[5,6]};let Ee=(()=>{class e{constructor(e){this.util=e,this.order={}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-status-tracker"]],inputs:{settings:"settings",style:"style",order:"order"},decls:29,vars:40,consts:[[1,"track_order_outter_detail",3,"ngStyle"],[1,"order-status"],[1,"order-status-process"],[1,"order-status-process-line",3,"ngClass"],[1,"order-single-status"],[3,"ngClass"],[3,"ngStyle",4,"ngIf"],["class","order-status-process",4,"ngIf"],[1,"order-status-process-line-delivered",3,"ngClass"],[3,"ngStyle"]],template:function(e,t){1&e&&(b.Zb(0,"div",0),b.Zb(1,"h3"),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Zb(4,"div",1),b.Zb(5,"div",2),b.Ub(6,"div",3),b.Zb(7,"div",4),b.Zb(8,"h4",5),b.Qc(9),b.lc(10,"orderStatus"),b.Yb(),b.Oc(11,_e,3,8,"p",6),b.Yb(),b.Yb(),b.Zb(12,"div",2),b.Ub(13,"div",3),b.Zb(14,"div",4),b.Zb(15,"h4",5),b.Qc(16),b.lc(17,"orderStatus"),b.Yb(),b.Oc(18,ve,3,8,"p",6),b.Yb(),b.Yb(),b.Oc(19,Ce,7,9,"div",7),b.Oc(20,Qe,7,10,"div",7),b.Oc(21,we,7,9,"div",7),b.Zb(22,"div",2),b.Ub(23,"div",8),b.Zb(24,"div",4),b.Zb(25,"h4",5),b.Qc(26),b.lc(27,"orderStatus"),b.Yb(),b.Oc(28,De,3,8,"p",6),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.rc("ngStyle",b.xc(30,xe,t.style.cardBackgroundColor,t.style.secondaryColor)),b.Hb(1),b.Nc("color",t.style.baseColor),b.Hb(1),b.Rc(b.mc(3,19,"Tracking Details")),b.Hb(4),b.rc("ngClass",b.vc(33,Ne).includes(null==t.order?null:t.order.status)?"active":""),b.Hb(2),b.rc("ngClass",b.vc(34,Ne).includes(null==t.order?null:t.order.status)?"active":"in-active"),b.Hb(1),b.Sc(" ",b.nc(10,21,1,t.order),""),b.Hb(2),b.rc("ngIf",(null==t.order?null:t.order.confirmed_on)&&"Invalid date"!=(null==t.order?null:t.order.confirmed_on)),b.Hb(2),b.rc("ngClass",b.vc(35,Me).includes(null==t.order?null:t.order.status)?"active":""),b.Hb(2),b.rc("ngClass",b.vc(36,Me).includes(null==t.order?null:t.order.status)?"active":"in-active"),b.Hb(1),b.Sc(" ",b.nc(17,24,11,t.order),""),b.Hb(2),b.rc("ngIf",(null==t.order?null:t.order.progress_on)&&"Invalid date"!=(null==t.order?null:t.order.progress_on)),b.Hb(1),b.rc("ngIf",b.vc(37,Re).includes(null==t.settings?null:t.settings.app_type)),b.Hb(1),b.rc("ngIf",1!=(null==t.order?null:t.order.self_pickup)),b.Hb(1),b.rc("ngIf",1==t.order.self_pickup&&1==(null==t.settings?null:t.settings.app_type)),b.Hb(2),b.rc("ngClass",b.vc(38,Fe).includes(null==t.order?null:t.order.status)?"active":""),b.Hb(2),b.rc("ngClass",b.vc(39,Fe).includes(null==t.order?null:t.order.status)?"active":"in-active"),b.Hb(1),b.Sc(" ",1==t.order.self_pickup?"Picked":b.nc(27,27,5,t.order),""),b.Hb(2),b.rc("ngIf","5"==t.order.status))},directives:[g.n,g.k,g.m],pipes:[O.d,He,g.e],encapsulation:2}),e})();var Ue=r("HFd8"),qe=r("xG9w"),Ae=r("zEfb");function ze(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",13),b.Zb(1,"app-product",14),b.gc("add",(function(t){return b.Hc(e),b.kc(4).addProduct(t)}))("remove",(function(t){return b.Hc(e),b.kc(4).removeProduct(t)})),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(4);b.Hb(1),b.Mc(r.style),b.rc("product",e)("settings",r.settings)("loggedIn",r.loggedIn)}}function Le(e,t){if(1&e&&(b.Zb(0,"div",11),b.Oc(1,ze,2,5,"div",12),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.rc("ngForOf",null==e?null:e.value)}}function Be(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",13),b.Zb(1,"app-product",14),b.gc("add",(function(t){return b.Hc(e),b.kc(6).addProduct(t)}))("remove",(function(t){return b.Hc(e),b.kc(6).removeProduct(t)})),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(6);b.Hb(1),b.Mc(r.style),b.rc("product",e)("settings",r.settings)("loggedIn",r.loggedIn)}}function $e(e,t){if(1&e&&(b.Zb(0,"div",17),b.Zb(1,"h5"),b.Qc(2),b.Yb(),b.Zb(3,"div",11),b.Oc(4,Be,2,5,"div",12),b.Yb(),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(2),b.Rc(null==e?null:e.name),b.Hb(2),b.rc("ngForOf",null==e?null:e.value)}}function je(e,t){if(1&e&&(b.Xb(0),b.Oc(1,$e,5,2,"div",16),b.Wb()),2&e){const e=t.$implicit;b.Hb(1),b.rc("ngIf",null==e?null:e.value.length)}}function We(e,t){if(1&e&&(b.Zb(0,"div",11),b.Oc(1,je,2,1,"ng-container",15),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.rc("ngForOf",null==e?null:e.detailed_category_name)}}function Ge(e,t){if(1&e&&(b.Zb(0,"div",9),b.Zb(1,"h4"),b.Qc(2),b.Yb(),b.Oc(3,Le,2,1,"div",10),b.Oc(4,We,2,1,"div",10),b.Yb()),2&e){const e=t.$implicit;b.rc("id",t.index),b.Hb(2),b.Rc(null==e?null:e.sub_cat_name),b.Hb(1),b.rc("ngIf",!(null!=e&&null!=e.detailed_category_name&&e.detailed_category_name.length)),b.Hb(1),b.rc("ngIf",(null==e?null:e.detailed_category_name)&&(null==e||null==e.detailed_category_name?null:e.detailed_category_name.length))}}const Ve=function(e,t){return{"border-color":e,color:t}};function Xe(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",3),b.Zb(1,"div",4),b.Zb(2,"div",5),b.Zb(3,"button",6),b.gc("click",(function(){return b.Hc(e),b.kc().onSubmit()})),b.Qc(4),b.lc(5,"translate"),b.Yb(),b.Zb(6,"button",7),b.gc("click",(function(){return b.Hc(e),b.kc().back()})),b.Qc(7),b.lc(8,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Oc(9,Ge,5,4,"div",8),b.Yb()}if(2&e){const e=b.kc();b.Hb(3),b.rc("ngStyle",b.xc(9,Ve,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Sc("",b.mc(5,5,"Submit")," "),b.Hb(2),b.rc("ngStyle",b.xc(12,Ve,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Sc("",b.mc(8,7,"Back")," "),b.Hb(2),b.rc("ngForOf",e.products)}}function Je(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",20),b.Zb(1,"app-product",21),b.gc("add",(function(t){return b.Hc(e),b.kc(4).onBookNow(t)}))("remove",(function(t){return b.Hc(e),b.kc(4).removeProduct(t)})),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(4);b.Hb(1),b.Mc(r.style),b.rc("product",e)("settings",r.settings)("loggedIn",!0)("state",r.state)}}function Ke(e,t){if(1&e&&(b.Zb(0,"div",11),b.Oc(1,Je,2,6,"div",19),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.rc("ngForOf",null==e?null:e.value)}}function et(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",20),b.Zb(1,"app-product",21),b.gc("add",(function(t){return b.Hc(e),b.kc(6).onBookNow(t)}))("remove",(function(t){return b.Hc(e),b.kc(6).removeProduct(t)})),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(6);b.Hb(1),b.Mc(r.style),b.rc("product",e)("settings",r.settings)("loggedIn",!0)("state",r.state)}}function tt(e,t){if(1&e&&(b.Zb(0,"div",17),b.Zb(1,"h5"),b.Qc(2),b.Yb(),b.Zb(3,"div",11),b.Oc(4,et,2,6,"div",19),b.Yb(),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(2),b.Rc(null==e?null:e.name),b.Hb(2),b.rc("ngForOf",null==e?null:e.value)}}function rt(e,t){if(1&e&&(b.Xb(0),b.Oc(1,tt,5,2,"div",16),b.Wb()),2&e){const e=t.$implicit;b.Hb(1),b.rc("ngIf",null==e?null:e.value.length)}}function nt(e,t){if(1&e&&(b.Zb(0,"div",11),b.Oc(1,rt,2,1,"ng-container",15),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.rc("ngForOf",null==e?null:e.detailed_category_name)}}function it(e,t){if(1&e&&(b.Zb(0,"div",9),b.Zb(1,"h4"),b.Qc(2),b.Yb(),b.Oc(3,Ke,2,1,"div",10),b.Oc(4,nt,2,1,"div",10),b.Yb()),2&e){const e=t.$implicit;b.rc("id",t.index),b.Hb(2),b.Rc(null==e?null:e.sub_cat_name),b.Hb(1),b.rc("ngIf",!(null!=e&&null!=e.detailed_category_name&&e.detailed_category_name.length)),b.Hb(1),b.rc("ngIf",(null==e?null:e.detailed_category_name)&&(null==e||null==e.detailed_category_name?null:e.detailed_category_name.length))}}function ct(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",3),b.Zb(1,"div",18),b.Zb(2,"div",5),b.Zb(3,"button",7),b.gc("click",(function(){return b.Hc(e),b.kc().onBack.emit(!1)})),b.Qc(4),b.lc(5,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Oc(6,it,5,4,"div",8),b.Yb()}if(2&e){const e=b.kc();b.Hb(3),b.rc("ngStyle",b.xc(5,Ve,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Sc("",b.mc(5,3,"Back")," "),b.Hb(2),b.rc("ngForOf",e.products)}}function lt(e,t){1&e&&b.Ub(0,"app-processing-indicator")}let st=(()=>{class e{constructor(e,t,r,n,i,c,l){this.util=e,this.http=t,this.message=r,this.user=n,this.cartService=i,this.dialogService=c,this.localization=l,this.isLoading=!1,this.loggedIn=!1,this.products=[],this.state={editOrder:!0},this.currency="",this.supplierId="",this.selectedProducts=[],this.onBack=new b.q,this.onAdd=new b.q,this.currency=z.a.CURRENCY}ngOnInit(){this.util.setCart([]),this.supplierId&&this.getDetails()}updateProduct(e){e.avg_rating=Number.parseFloat(e.avg_rating).toFixed(1),e.display_price!=e.fixed_price&&(e.discount=Math.round((e.display_price-e.fixed_price)/e.display_price*100)),e.selectedQuantity=0,e.price_type&&(e.maxHour=e.hourly_price[e.hourly_price.length-1].max_hour-this.settings.interval,e.discount&&e.hourly_price[0].discount_price?(e.fixed_price=e.hourly_price[0].discount_price,e.display_price=e.hourly_price[0].price_per_hour,e.discount_price=Math.round((e.hourly_price[0].price_per_hour-e.hourly_price[0].discount_price)/e.hourly_price[0].price_per_hour*100)):e.fixed_price=e.hourly_price[0].price_per_hour),this.selectedProducts.length&&this.selectedProducts.forEach(t=>{t.productId!=e.product_id&&t.product_id!=e.product_id||(e.selectedQuantity=t.selectedQuantity||t.quantity,e.price_type&&(e.fixed_price=t.fixed_price),t.customization&&(e.customization=t.customization))}),this.util.productPriceToFloat(e),e.discount=Math.round((e.display_price-e.fixed_price)/e.display_price*100)}getDetails(){this.isLoading=!0,this.http.getData(u.a.getSupplierDetailProduct,{languageId:this.util.handler.languageId,supplier_id:this.supplierId,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude}).subscribe(e=>{e&&e.data&&(this.products=e.data.product,this.supplierDetail=e.data.supplier_detail,this.products.forEach(e=>{e.detailed_category_name&&e.detailed_category_name.length?(e.detailed_category_name=qe.e(e.detailed_category_name.slice(),"detailed_sub_category_id"),e.detailed_category_name.forEach(t=>{t.value=[],e.value.map(e=>{e.detailed_sub_category_id==t.detailed_sub_category_id&&(this.updateProduct(e),t.value.push(e))})})):e.value.map(e=>{this.updateProduct(e)})}),this.products=this.products.slice(),this.isLoading=!1)},e=>{this.isLoading=!1})}openAddOnDialog(e){this.dialogService.open(Ue.a,{header:e.name,width:"45%",style:{"background-color":this.style.primaryColor+" !important"},showHeader:!1,transitionOptions:"600ms cubic-bezier(0.25, 0.8, 0.25, 1)",data:{product:e,addOnItems:e.adds_on}}).onClose.subscribe(()=>{})}addProduct(e){this.cartService.addToCart(e,this.products)}removeProduct(e){this.cartService.removeFromCart(e)}onBookNow(e){this.message.confirm("add this "+this.localization.transform("product"),`Existing ${this.localization.transform("product")} will be removed`).then(t=>{if(t.value)return this.cartService.addToCart(e,null,!1),this.util.diableCart.next(!1),this.onAdd.emit(this.util.getLocalData("cart",!0))})}onSubmit(){const e=[],t=this.util.getLocalData("cart",!0);this.selectedProducts.forEach(r=>{t.find(e=>e.productId==r.product_id)||e.push(r)}),e.push(...t),this.onAdd.emit(e),this.util.diableCart.next(!1)}back(){this.util.diableCart.next(!1),this.onBack.emit(!1)}ngOnDestroy(){this.util.setCart([])}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a),b.Tb(d.a),b.Tb(s.a),b.Tb(E.a),b.Tb(R.a),b.Tb(p.a),b.Tb(_.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-supplier-products"]],inputs:{orderType:"orderType",supplierId:"supplierId",settings:"settings",style:"style",selectedProducts:"selectedProducts"},outputs:{onBack:"onBack",onAdd:"onAdd"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[4,"ngIf"],[1,"container"],[1,"row","mt-5"],[1,"col-12"],[1,"btn","cancel-order",2,"width","140px",3,"ngStyle","click"],[1,"btn","cancel-order",3,"ngStyle","click"],["class","categories-item-products",3,"id",4,"ngFor","ngForOf"],[1,"categories-item-products",3,"id"],["class","row",4,"ngIf"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[3,"product","settings","loggedIn","add","remove"],[4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12"],[1,"row","mt-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[3,"product","settings","loggedIn","state","add","remove"]],template:function(e,t){1&e&&(b.Xb(0,0),b.Oc(1,Xe,10,15,"ng-template",1),b.Oc(2,ct,7,8,"ng-template",1),b.Wb(),b.Oc(3,lt,1,0,"app-processing-indicator",2)),2&e&&(b.rc("ngSwitch",t.orderType),b.Hb(1),b.rc("ngSwitchCase",1),b.Hb(1),b.rc("ngSwitchCase",8),b.Hb(1),b.rc("ngIf",t.isLoading))},directives:[g.o,g.p,g.m,g.n,g.l,Ae.a,ee.a],pipes:[O.d],styles:[".action-btn[_ngcontent-%COMP%]{border-top:1px solid var(--secondaryColor)}.action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}"]}),e})(),ot=(()=>{class e{transform(e){let t="";switch(e){case 0:t="brown";break;case 2:case 8:t="red";break;case 1:case 3:case 5:case 6:case 7:case 9:case 10:case 11:t="green"}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=b.Sb({name:"orderStatusColor",type:e,pure:!0}),e})(),dt=(()=>{class e{transform(e){let t="",r=U(e,"HH:mm:ss").hour(),n=U(e,"HH:mm:ss").minute();return r&&(t=r+(r>1?" Hours":" Hour")),n&&(t+=" "+n+(n>1?" Minutes":" Minute")),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=b.Sb({name:"prepTime",type:e,pure:!0}),e})();var at=r("PKbb");let ut=(()=>{class e{constructor(e){this.util=e,this.app_type=0,this.langType="english",this.terminology={},this.settingSubscription=this.util.getSettings.subscribe(e=>{e&&(this.app_type=e.app_type,this.settings=e)});let t=this.util.getLocalData("langData",!0)||{id:this.util.handler.languageId};this.langType=t&&14==t.id?"english":"other"}transform(e){if(this.settings){let t=this.settings.terminology,r={};if(t&&(localStorage.getItem("lang"),r=t[this.langType].return_status),t&&r&&r[e])return r[e];{let t="";switch(e){case 0:t="RETURN REQUESTED";break;case 1:t="AGENT ON THE WAY";break;case 2:t="PRODUCT PICKED";break;case 3:t="RETURNED"}return t}}}ngOnDestroy(){this.settingSubscription&&this.settingSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a))},e.\u0275pipe=b.Sb({name:"returnStatus",type:e,pure:!0}),e})();function bt(e,t){if(1&e){const e=b.ac();b.Zb(0,"app-order-payment",52),b.gc("paymentComplete",(function(){return b.Hc(e),b.kc(3).getDetail()})),b.Yb()}if(2&e){const e=b.kc(3);b.Mc(e.style),b.rc("settings",e.settings)("order",e.orderHistory[e.selectedOrder])}}const pt=function(e,t){return{"border-color":e,color:t}};function gt(e,t){if(1&e){const e=b.ac();b.Zb(0,"button",53),b.gc("click",(function(){return b.Hc(e),b.kc(3).onSOSNotification()})),b.Qc(1),b.lc(2,"translate"),b.Yb()}if(2&e){const e=b.kc(3);b.rc("ngStyle",b.xc(4,pt,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Rc(b.mc(2,2,"SOS"))}}function yt(e,t){if(1&e){const e=b.ac();b.Zb(0,"button",54),b.gc("click",(function(){b.Hc(e);const t=b.kc(3);return t.onEditOrder(t.orderHistory[t.selectedOrder])})),b.Qc(1),b.lc(2,"translate"),b.lc(3,"translate"),b.lc(4,"localization"),b.Yb()}if(2&e){const e=b.kc(3);b.rc("ngStyle",b.xc(10,pt,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Tc("",b.mc(2,3,"Edit")," ",b.mc(3,5,b.nc(4,7,"order",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type))," ")}}function ht(e,t){if(1&e){const e=b.ac();b.Zb(0,"button",54),b.gc("click",(function(){b.Hc(e);const t=b.kc(3);return t.onCancel(t.orderHistory[t.selectedOrder])})),b.Qc(1),b.lc(2,"translate"),b.lc(3,"translate"),b.lc(4,"localization"),b.Yb()}if(2&e){const e=b.kc(3);b.rc("ngStyle",b.xc(10,pt,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Tc("",b.mc(2,3,"Cancel")," ",b.mc(3,5,b.nc(4,7,"order",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type))," ")}}function ft(e,t){if(1&e){const e=b.ac();b.Zb(0,"button",54),b.gc("click",(function(){return b.Hc(e),b.kc(3).dhlStatus()})),b.Qc(1,"View DHL Status"),b.Yb()}if(2&e){const e=b.kc(3);b.rc("ngStyle",b.xc(1,pt,e.style.primaryColor,e.style.baseColor))}}function mt(e,t){if(1&e&&b.Ub(0,"app-re-order",55),2&e){const e=b.kc(3);b.Mc(e.style),b.rc("order",e.orderHistory[e.selectedOrder])("settings",e.settings)}}const Ht=function(){return[3,4]},Ot=function(){return[3,4,5]},_t=function(){return[4,5]};function vt(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",56),b.Zb(1,"div",57),b.Zb(2,"label",58),b.Qc(3),b.lc(4,"translate"),b.Yb(),b.Zb(5,"select",59),b.gc("ngModelChange",(function(t){b.Hc(e);const r=b.kc(3);return r.orderHistory[r.selectedOrder].status=t}))("change",(function(t){return b.Hc(e),b.kc(3).onStatusChange(t.target.value)})),b.Zb(6,"option",60),b.Qc(7),b.lc(8,"translate"),b.Yb(),b.Zb(9,"option",61),b.Qc(10),b.lc(11,"orderStatus"),b.Yb(),b.Zb(12,"option",61),b.Qc(13),b.lc(14,"orderStatus"),b.Yb(),b.Zb(15,"option",61),b.Qc(16,"PICKED UP"),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=b.kc(3);b.Hb(2),b.Nc("color",e.style.baseColor),b.Hb(1),b.Rc(b.mc(4,17,"Select Status")),b.Hb(2),b.rc("ngModel",e.orderHistory[e.selectedOrder].status),b.Hb(1),b.rc("value",b.vc(25,Ht).includes(e.orderHistory[e.selectedOrder].status)?0:e.orderHistory[e.selectedOrder].status),b.Hb(1),b.Sc(" ",b.mc(8,19,"Select Status"),""),b.Hb(2),b.rc("value",3)("selected",3==e.orderHistory[e.selectedOrder].status)("disabled",b.vc(26,Ot).includes(e.orderHistory[e.selectedOrder].status)),b.Hb(1),b.Rc(b.mc(11,21,3)),b.Hb(2),b.rc("value",4)("selected",4==e.orderHistory[e.selectedOrder].status)("disabled",b.vc(27,_t).includes(e.orderHistory[e.selectedOrder].status)),b.Hb(1),b.Rc(b.mc(14,23,4)),b.Hb(2),b.rc("value",5)("selected",5==e.orderHistory[e.selectedOrder].status)("disabled",5==e.orderHistory[e.selectedOrder].status)}}function kt(e,t){if(1&e){const e=b.ac();b.Zb(0,"i",62),b.gc("click",(function(){b.Hc(e);const t=b.kc(3);return t.selectedOrder=t.selectedOrder-1})),b.Yb()}if(2&e){const e=b.kc(3);b.Nc("color",e.style.primaryColor)}}function Yt(e,t){if(1&e){const e=b.ac();b.Zb(0,"i",63),b.gc("click",(function(){b.Hc(e);const t=b.kc(3);return t.selectedOrder=t.selectedOrder+1})),b.Yb()}if(2&e){const e=b.kc(3);b.Nc("color",e.style.primaryColor)}}function Zt(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",b.mc(2,3,"Service Date:")," ",b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"),"")}}const Ct=function(){return[5,6]};function It(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Expected Picked Up On:":b.vc(9,Ct).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Delivered On:":b.mc(2,3,"Expected Delivery On:")," ",b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"),"")}}function St(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",b.mc(2,3,"Dine In Date")," ",b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].schedule_date,"medium","+000"),"")}}function Qt(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.lc(4,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Expected Picked up on:":b.vc(13,Ct).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Delivered On:":b.mc(2,3,"Expected Delivery In:")," ",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"):b.vc(14,Ct).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?b.oc(4,9,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"):(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivery_min_time)+" min to "+(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivery_max_time)+" min"," ")}}function Tt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Oc(1,Zt,4,9,"span",21),b.Oc(2,It,4,10,"span",21),b.Oc(3,St,4,9,"span",21),b.Oc(4,Qt,5,15,"span",21),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.rc("ngIf",8==(null==e.settings?null:e.settings.app_type)),b.Hb(1),b.rc("ngIf",8!=(null==e.settings?null:e.settings.app_type)&&0==e.settings.show_expected_delivery_between&&3!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)&&1!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_dine_in)),b.Hb(1),b.rc("ngIf",8!=(null==e.settings?null:e.settings.app_type)&&0==e.settings.show_expected_delivery_between&&3==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)&&1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_dine_in)),b.Hb(1),b.rc("ngIf","0000-00-00 00:00:00"!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)&&8!=(null==e.settings?null:e.settings.app_type)&&1==e.settings.show_expected_delivery_between)}}function Pt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.mc(2,5,"Schedule Start Date:")," ",b.oc(3,7,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"),"")}}function wt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.mc(2,5,"Schedule End Date:")," ",b.oc(3,7,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].schedule_end_date,"medium","+000"),"")}}function Dt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.mc(2,5,"Preparation Time:")," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].preparation_time," ")}}function xt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"localization"),b.lc(3,"translate"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Uc(" ",b.mc(2,6,"order")," ",b.mc(3,8,"shipment status")," ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].shippingData[0]?null:e.orderHistory[e.selectedOrder].shippingData[0].orderStatus," ")}}function Nt(e,t){if(1&e&&(b.Zb(0,"p"),b.Zb(1,"b"),b.Qc(2,"Rejection Reason:"),b.Yb(),b.Qc(3),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",null==e.style?null:e.style.baseColor),b.Hb(3),b.Sc(" ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].approve_rejection_reason,"")}}function Mt(e,t){1&e&&(b.Zb(0,"span",76),b.Qc(1),b.lc(2,"localization"),b.lc(3,"translate"),b.Yb()),2&e&&(b.Hb(1),b.Tc("",b.mc(2,2,"supplier")," ",b.mc(3,4,"location"),""))}function Rt(e,t){if(1&e&&(b.Zb(0,"span",76),b.Qc(1),b.lc(2,"localization"),b.lc(3,"localization"),b.Yb()),2&e){const e=b.kc(5);b.Hb(1),b.Tc(" ",b.nc(2,2,"track",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," ",8==(null==e.settings?null:e.settings.app_type)?"agent":b.nc(3,5,"order",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," ")}}const Ft=function(e,t){return{color:e,borderColor:t,backgroundColor:"#ffffff",cursor:"pointer"}};function Et(e,t){if(1&e){const e=b.ac();b.Zb(0,"a",74),b.gc("click",(function(){b.Hc(e);const t=b.kc(4);return t.trackOrder(t.orderHistory[t.selectedOrder])})),b.Oc(1,Mt,4,6,"span",75),b.Oc(2,Rt,4,8,"span",75),b.Yb()}if(2&e){const e=b.kc(4);b.rc("ngStyle",b.xc(4,Ft,e.style.primaryColor,e.style.primaryColor))("@fade",void 0),b.Hb(1),b.rc("ngIf",1==e.orderHistory[e.selectedOrder].self_pickup),b.Hb(1),b.rc("ngIf",0==e.orderHistory[e.selectedOrder].self_pickup)}}function Ut(e,t){if(1&e){const e=b.ac();b.Zb(0,"span",77),b.gc("click",(function(){b.Hc(e);const t=b.kc(4);return t.toRateSupplier(t.orderHistory[t.selectedOrder])})),b.Ub(1,"i",78),b.Qc(2),b.lc(3,"translate"),b.lc(4,"localization"),b.Yb()}if(2&e){const e=b.kc(4);b.Nc("color",e.style.primaryColor),b.rc("@fade",void 0),b.Hb(2),b.Tc(" ",b.mc(3,5,"Rate To")," ",b.nc(4,7,"supplier",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," ")}}function qt(e,t){if(1&e&&b.Ub(0,"app-chat",79),2&e){const e=b.kc(4);b.rc("receiver_created_id",e.orderHistory[e.selectedOrder].agent[0].agent_created_id)("order",e.orderHistory[e.selectedOrder])}}const At=function(e,t){return{"background-color":e,"border-color":t}},zt=function(e){return{color:e}},Lt=function(){return[11]},Bt=function(){return[11,10]};function $t(e,t){if(1&e&&(b.Zb(0,"div",25),b.Zb(1,"div",26),b.Zb(2,"div",64),b.Zb(3,"div",65),b.Zb(4,"h2",66),b.Qc(5),b.Yb(),b.Zb(6,"h5"),b.Qc(7),b.lc(8,"translate"),b.lc(9,"date"),b.Yb(),b.Oc(10,Tt,5,7,"h5",67),b.Oc(11,Pt,4,11,"h5",67),b.Oc(12,wt,4,11,"h5",67),b.Oc(13,Dt,3,7,"h5",67),b.Oc(14,xt,4,10,"h5",67),b.Yb(),b.Zb(15,"div",68),b.Zb(16,"h4",69),b.lc(17,"orderStatusColor"),b.Qc(18),b.lc(19,"orderStatus"),b.Yb(),b.Oc(20,Nt,4,3,"p",67),b.Zb(21,"div",70),b.Oc(22,Et,3,7,"a",71),b.Oc(23,Ut,5,10,"span",72),b.Oc(24,qt,1,2,"app-chat",73),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.Hb(2),b.rc("ngStyle",b.xc(34,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(2),b.rc("ngStyle",b.wc(37,zt,e.style.primaryColor))("@fade",void 0),b.Hb(1),b.Sc(" ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].supplier_name,""),b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",8==(null==e.settings?null:e.settings.app_type)?"Service Booked On:":b.mc(8,23,"Ordered On:")," ",b.oc(9,25,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].created_on,"medium","+000"),""),b.Hb(3),b.rc("ngIf",!(null!=e.orderHistory[e.selectedOrder]&&e.orderHistory[e.selectedOrder].is_schedule||"Invalid date"==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)||"0000-00-00 00:00:00"==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)||null!=e.orderHistory[e.selectedOrder]&&e.orderHistory[e.selectedOrder].agent.length)),b.Hb(1),b.rc("ngIf",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_schedule)&&"0000-00-00 00:00:00"!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)),b.Hb(1),b.rc("ngIf",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_schedule)),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.app_type)&&11==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)),b.Hb(1),b.rc("ngIf",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].shippingData)&&(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].shippingData.length)),b.Hb(2),b.Nc("color",b.mc(17,29,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)),b.rc("ngStyle",b.wc(39,zt,e.style.primaryColor))("@fade",void 0),b.Hb(2),b.Sc(" ",5==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Picked":b.nc(19,31,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," "),b.Hb(2),b.rc("ngIf",2==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].approve_rejection_reason)),b.Hb(2),b.rc("ngIf",(0==e.orderHistory[e.selectedOrder].self_pickup&&e.orderHistory[e.selectedOrder].agent.length||1==e.orderHistory[e.selectedOrder].self_pickup)&&(b.vc(41,Ht).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&8!=(null==e.settings?null:e.settings.app_type)||b.vc(42,Lt).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&8==(null==e.settings?null:e.settings.app_type))&&(null==e.settings?null:e.settings.booking_track_status)),b.Hb(1),b.rc("ngIf",b.vc(43,Ct).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&0==e.orderHistory[e.selectedOrder].is_supplier_rated&&1==e.settings.is_supplier_rating),b.Hb(1),b.rc("ngIf",1==e.settings.chat_enable&&e.orderHistory[e.selectedOrder].agent&&e.orderHistory[e.selectedOrder].agent.length&&b.vc(44,Bt).includes(e.orderHistory[e.selectedOrder].status))}}function jt(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",b.mc(2,3,"Service Date:")," ",b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"),"")}}function Wt(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_schedule)?"Schedule Start Date":1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Expected Picked up on:":b.vc(9,Ct).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Delivered On:":b.mc(2,3,"Expected Delivery On:")," ",b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on,"medium","+000"),"")}}function Gt(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc("",b.mc(2,3,"Dinin Date")," ",b.oc(3,5,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].schedule_date,"medium","+000"),"")}}function Vt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Oc(1,jt,4,9,"span",21),b.Oc(2,Wt,4,10,"span",21),b.Oc(3,Gt,4,9,"span",21),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.rc("ngIf",8==(null==e.settings?null:e.settings.app_type)),b.Hb(1),b.rc("ngIf","0000-00-00 00:00:00"!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)&&8!=(null==e.settings?null:e.settings.app_type)&&3!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)&&1!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_dine_in)),b.Hb(1),b.rc("ngIf","0000-00-00 00:00:00"!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)&&8!=(null==e.settings?null:e.settings.app_type)&&3==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)&&1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_dine_in))}}function Xt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.mc(2,5,"Schedule End Date:")," ",b.oc(3,7,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].schedule_end_date,"medium","+000"),"")}}function Jt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.lc(3,"prepTime"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.mc(2,5,"Preparation Time:")," ",b.mc(3,7,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].preparation_time)," ")}}function Kt(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"localization"),b.lc(3,"translate"),b.Yb()),2&e){const e=b.kc(4);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Uc(" ",b.mc(2,6,"order")," ",b.mc(3,8,"shipment status"),": ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].shippingData[0]?null:e.orderHistory[e.selectedOrder].shippingData[0].orderStatus," ")}}const er=function(e,t){return{color:e,borderColor:t,backgroundColor:"#ffffff"}};function tr(e,t){if(1&e){const e=b.ac();b.Zb(0,"a",74),b.gc("click",(function(){b.Hc(e);const t=b.kc(4);return t.trackOrder(t.orderHistory[t.selectedOrder])})),b.Qc(1),b.lc(2,"translate"),b.Yb()}if(2&e){const e=b.kc(4);b.rc("ngStyle",b.xc(5,er,e.style.primaryColor,e.style.primaryColor))("@fade",void 0),b.Hb(1),b.Rc(8==(null==e.settings?null:e.settings.app_type)?"Track Agent":b.mc(2,3,"Track Order"))}}function rr(e,t){if(1&e&&(b.Zb(0,"div",25),b.Zb(1,"div",26),b.Zb(2,"div",64),b.Zb(3,"div",80),b.Zb(4,"h5"),b.Qc(5),b.lc(6,"translate"),b.lc(7,"date"),b.Yb(),b.Oc(8,Vt,4,6,"h5",67),b.Oc(9,Xt,4,11,"h5",67),b.Oc(10,Jt,4,9,"h5",67),b.Oc(11,Kt,4,10,"h5",67),b.Yb(),b.Zb(12,"div",68),b.Zb(13,"h4",69),b.Qc(14),b.lc(15,"orderStatus"),b.Yb(),b.Zb(16,"div",70),b.Oc(17,tr,3,8,"a",71),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.Hb(2),b.rc("ngStyle",b.xc(23,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(2),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",8==(null==e.settings?null:e.settings.app_type)?"Service Booked On:":b.mc(6,14,"Ordered on:")," ",b.oc(7,16,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].created_on,"medium","+000"),""),b.Hb(3),b.rc("ngIf","Invalid date"!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)&&"0000-00-00 00:00:00"!=(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].delivered_on)&&!(null!=e.orderHistory[e.selectedOrder]&&e.orderHistory[e.selectedOrder].agent.length)),b.Hb(1),b.rc("ngIf",1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].is_schedule)),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.app_type)&&11==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)),b.Hb(1),b.rc("ngIf",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].shippingData)&&(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].shippingData.length)),b.Hb(2),b.rc("ngStyle",b.wc(26,zt,e.style.primaryColor))("@fade",void 0),b.Hb(1),b.Sc(" ",5==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)?"Picked":b.nc(15,20,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," "),b.Hb(3),b.rc("ngIf",b.vc(28,Ht).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&(null==e.settings?null:e.settings.booking_track_status)&&!(null!=e.orderHistory[e.selectedOrder]&&e.orderHistory[e.selectedOrder].self_pickup))}}function nr(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.Sc("Branch: ",null==e?null:e.branch_name,"")}}function ir(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.Sc("Weight: ",null==e?null:e.duration,"g")}}function cr(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.Yb()),2&e){const e=b.kc().$implicit,t=b.kc(4);b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc("",b.mc(2,3,null!=e&&e.price_type?"Hours":"Quantity")," : ")}}function lr(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"translate"),b.Yb()),2&e){const e=b.kc().$implicit,t=b.kc(4);b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc("",b.mc(2,3,null!=e&&e.price_type?"Duration":"Quantity")," : ")}}function sr(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.lc(2,"formatTimeInterval"),b.Yb()),2&e){const e=b.kc().$implicit,t=b.kc(4);b.Nc("color",t.style.primaryColor),b.Hb(1),b.Rc(b.mc(2,3,null==e?null:e.duration))}}function or(e,t){if(1&e&&(b.Zb(0,"li",97),b.Qc(1),b.Yb()),2&e){const e=t.$implicit,r=b.kc(6);b.Nc("color",r.style.baseColor),b.Hb(1),b.Tc(" ",null==e?null:e.name," - ",r.addOnNames(null==e?null:e.value)," ")}}function dr(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"ul",95),b.Oc(2,or,2,4,"li",96),b.Yb(),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(2),b.rc("ngForOf",e.customization.data)}}function ar(e,t){if(1&e&&(b.Zb(0,"p",100),b.Qc(1),b.Zb(2,"span"),b.Qc(3),b.Yb(),b.Yb()),2&e){const e=b.kc().$implicit,t=b.kc(6);b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc(" ",null==e?null:e.variant_name,":"),b.Hb(2),b.Rc(null==e?null:e.variant_value)}}function ur(e,t){if(1&e&&(b.Zb(0,"p",100),b.Qc(1),b.Ub(2,"span",101),b.Yb()),2&e){const e=b.kc().$implicit,t=b.kc(6);b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc("",null==e?null:e.variant_name,":"),b.Hb(1),b.Nc("background-color",null==e?null:e.variant_value)}}function br(e,t){if(1&e&&(b.Zb(0,"div"),b.Oc(1,ar,4,4,"ng-template",98),b.Oc(2,ur,3,5,"ng-template",null,99,b.Pc),b.Yb()),2&e){const e=t.$implicit,r=b.Ec(3);b.Hb(1),b.rc("ngIf",1!=e.variant_type)("ngIfElse",r)}}function pr(e,t){if(1&e&&(b.Zb(0,"div"),b.Oc(1,br,4,2,"div",81),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.rc("ngForOf",e.prod_variants)}}function gr(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.Yb()),2&e){const e=b.kc().$implicit,t=b.kc(4);b.Nc("color",t.style.baseColor),b.Hb(1),b.Rc(null==e?null:e.quantity)}}function yr(e,t){if(1&e){const e=b.ac();b.Zb(0,"div"),b.Zb(1,"a",102),b.gc("click",(function(){b.Hc(e);const t=b.kc().$implicit;return b.kc(4).download(t)})),b.Qc(2),b.lc(3,"localization"),b.Yb(),b.Yb()}2&e&&(b.Hb(2),b.Rc(b.mc(3,1,"product_file_upload")))}function hr(e,t){if(1&e){const e=b.ac();b.Zb(0,"span",77),b.gc("click",(function(){b.Hc(e);const t=b.kc().$implicit;return b.kc(4).toRateProduct(t,"product")})),b.Ub(1,"i",78),b.Qc(2),b.lc(3,"translate"),b.lc(4,"translate"),b.lc(5,"localization"),b.Yb()}if(2&e){const e=b.kc(5);b.Nc("color",e.style.primaryColor),b.Hb(2),b.Tc(" ",b.mc(3,4,"Rate To")," ",b.mc(4,6,b.nc(5,8,"product",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type))," ")}}function fr(e,t){if(1&e){const e=b.ac();b.Zb(0,"a",103),b.gc("click",(function(){b.Hc(e);const t=b.kc().$implicit;return b.kc(4).returnRequest(t)})),b.Qc(1,"Return Request"),b.Yb()}if(2&e){const e=b.kc(5);b.Nc("color",e.style.primaryColor)}}function mr(e,t){if(1&e&&(b.Zb(0,"span",104),b.Qc(1),b.lc(2,"returnStatus"),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.Sc("status: ",b.mc(2,1,null==e?null:e.return_data[0].status),"")}}function Hr(e,t){if(1&e&&(b.Zb(0,"span",104),b.Qc(1),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.Sc("reason: ",null==e?null:e.return_data[0].reason,"")}}function Or(e,t){if(1&e&&(b.Zb(0,"h5"),b.Zb(1,"span"),b.Qc(2),b.lc(3,"date"),b.Yb(),b.Ub(4,"br"),b.Zb(5,"span"),b.Qc(6),b.lc(7,"date"),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.Sc("Start Time: ",b.oc(3,9,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].start_time,"medium","+000")," "),b.Hb(3),b.Nc("color",e.style.baseColor),b.Hb(1),b.Sc("End Time: ",b.oc(7,13,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].end_time,"medium","+000")," ")}}function _r(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"div",85),b.Zb(2,"div",86),b.Ub(3,"span",87),b.Zb(4,"div",88),b.Zb(5,"h2"),b.Qc(6),b.Yb(),b.Oc(7,nr,2,1,"p",21),b.Oc(8,ir,2,1,"p",21),b.Zb(9,"h4"),b.Oc(10,cr,3,5,"span",67),b.Oc(11,lr,3,5,"span",67),b.Oc(12,sr,3,5,"span",89),b.Yb(),b.Oc(13,dr,3,1,"div",21),b.Oc(14,pr,2,1,"div",21),b.Oc(15,gr,2,3,"ng-template",null,90,b.Pc),b.Yb(),b.Zb(17,"div",91),b.Zb(18,"h3"),b.Qc(19),b.Yb(),b.Oc(20,yr,4,3,"div",21),b.Oc(21,hr,6,11,"span",72),b.Yb(),b.Oc(22,fr,2,2,"a",92),b.Oc(23,mr,3,3,"span",93),b.Oc(24,Hr,2,1,"span",93),b.Yb(),b.Zb(25,"div",94),b.Oc(26,Or,8,17,"h5",67),b.Yb(),b.Yb(),b.Yb()),2&e){const e=t.$implicit,r=b.Ec(16),n=b.kc(4);b.Hb(1),b.rc("ngStyle",b.xc(25,At,n.style.cardBackgroundColor,n.style.secondaryColor)),b.Hb(4),b.Nc("color",n.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(null==e?null:e.product_name),b.Hb(1),b.rc("ngIf",1==(null==n.settings?null:n.settings.branch_flow)&&(null==e?null:e.branch_name)),b.Hb(1),b.rc("ngIf",1==(null==n.settings?null:n.settings.is_product_weight)&&(null==e?null:e.duration)),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.rc("ngIf",null==e?null:e.is_product),b.Hb(1),b.rc("ngIf",!(null!=e&&e.is_product)),b.Hb(1),b.rc("ngIf",!(null!=e&&e.is_product)&&(null==e?null:e.price_type))("ngIfElse",r),b.Hb(1),b.rc("ngIf",e.customization),b.Hb(1),b.rc("ngIf",e.prod_variants&&e.prod_variants.length),b.Hb(4),b.Nc("color",n.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].local_currency)||n.currency," ",n.util.convertIntoNumber(null==e?null:e.totalPrice).toFixed(null==n.settings?null:n.settings.price_decimal_length)," "),b.Hb(1),b.rc("ngIf",e.recipe_pdf),b.Hb(1),b.rc("ngIf",b.vc(28,Ct).includes(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].status)&&0==e.is_rated&&1==n.settings.is_product_rating),b.Hb(1),b.rc("ngIf",1==(null==n.settings?null:n.settings.is_return_request)&&!(null!=e&&e.return_data&&null!=e&&e.return_data.length)&&b.vc(29,Ct).includes(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].status)),b.Hb(1),b.rc("ngIf",1==(null==n.settings?null:n.settings.is_return_request)&&(null==e?null:e.return_data)&&(null==e?null:e.return_data.length)>0&&b.vc(30,Ct).includes(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].status)),b.Hb(1),b.rc("ngIf",1==(null==n.settings?null:n.settings.is_return_request)&&(null==e?null:e.return_data)&&(null==e?null:e.return_data.length)>0&&(null==e?null:e.return_data[0].reason)&&b.vc(31,Ct).includes(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].status)),b.Hb(2),b.rc("ngIf",8==(null==n.settings?null:n.settings.app_type)&&"Invalid date"!=(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].delivered_on)&&(null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].agent.length))}}const vr=function(e){return{amount:e}};function kr(e,t){if(1&e&&b.Ub(0,"app-questions-list",105),2&e){const e=b.kc(4);b.Mc(e.style),b.rc("questions",e.orderHistory[e.selectedOrder].questions)("cartPrice",b.wc(4,vr,null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].total_order_price))}}function Yr(e,t){if(1&e&&(b.Zb(0,"div",106),b.Zb(1,"h5"),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Zb(4,"p"),b.Qc(5),b.Yb(),b.Yb()),2&e){const e=b.kc(4);b.Hb(2),b.Rc(b.mc(3,2,"Parking Instructions")),b.Hb(3),b.Rc(e.orderHistory[e.selectedOrder].parking_instructions)}}function Zr(e,t){if(1&e&&(b.Zb(0,"div",106),b.Zb(1,"h5"),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Zb(4,"p"),b.Qc(5),b.Yb(),b.Yb()),2&e){const e=b.kc(4);b.Hb(2),b.Rc(b.mc(3,2,"Area To Focus")),b.Hb(3),b.Rc(e.orderHistory[e.selectedOrder].area_to_focus)}}function Cr(e,t){if(1&e&&(b.Zb(0,"div",34),b.Oc(1,_r,27,32,"div",81),b.Zb(2,"div",25),b.Zb(3,"div",82),b.Oc(4,kr,1,6,"app-questions-list",83),b.Yb(),b.Yb(),b.Ub(5,"app-order-attachments",55),b.Oc(6,Yr,6,4,"div",84),b.Oc(7,Zr,6,4,"div",84),b.Yb()),2&e){const e=b.kc(3);b.Hb(1),b.rc("ngForOf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].products),b.Hb(3),b.rc("ngIf",e.orderHistory[e.selectedOrder].questions&&e.orderHistory[e.selectedOrder].questions.length),b.Hb(1),b.rc("order",e.orderHistory[e.selectedOrder])("settings",e.settings),b.Hb(1),b.rc("ngIf",e.orderHistory[e.selectedOrder].parking_instructions),b.Hb(1),b.rc("ngIf",e.orderHistory[e.selectedOrder].area_to_focus)}}function Ir(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.Yb()),2&e){const e=b.kc().$implicit;b.Hb(1),b.Sc("Branch: ",null==e?null:e.branch_name,"")}}function Sr(e,t){if(1&e){const e=b.ac();b.Zb(0,"div"),b.Zb(1,"div",85),b.Zb(2,"div",86),b.Ub(3,"span",87),b.Zb(4,"div",88),b.Zb(5,"h2"),b.Qc(6),b.Yb(),b.Oc(7,Ir,2,1,"p",21),b.Zb(8,"div"),b.Zb(9,"app-quantity-buttons",107),b.gc("onAdd",(function(){b.Hc(e);const r=t.$implicit;return b.kc(4).increaseValue(r)}))("onRemove",(function(){b.Hc(e);const r=t.$implicit;return b.kc(4).decreaseValue(r)})),b.Yb(),b.Yb(),b.Yb(),b.Zb(10,"div",91),b.Zb(11,"h3"),b.Qc(12),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(4);b.Hb(1),b.rc("ngStyle",b.xc(17,At,r.style.cardBackgroundColor,r.style.secondaryColor)),b.Hb(4),b.Nc("color",r.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc((null==e?null:e.product_name)||(null==e?null:e.name)),b.Hb(1),b.rc("ngIf",1==(null==r.settings?null:r.settings.branch_flow)&&(null==e?null:e.branch_name)),b.Hb(2),b.Mc(r.style),b.rc("settings",r.settings)("priceType",null==e?null:e.price_type)("isProduct",null==e?null:e.is_product)("selectedQuantity",(null==e?null:e.selectedQuantity)||(null==e?null:e.quantity)),b.Hb(2),b.Nc("color",r.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",(null==r.orderHistory[r.selectedOrder]?null:r.orderHistory[r.selectedOrder].local_currency)||r.currency," ",r.util.convertIntoNumber(null==e?null:e.fixed_price).toFixed(null==r.settings?null:r.settings.price_decimal_length)," ")}}function Qr(e,t){if(1&e){const e=b.ac();b.Zb(0,"button",54),b.gc("click",(function(){b.Hc(e);const t=b.kc(4);return t.onAddItems(t.orderHistory[t.selectedOrder])})),b.Qc(1),b.lc(2,"translate"),b.lc(3,"translate"),b.lc(4,"localization"),b.Yb()}if(2&e){const e=b.kc(4);b.rc("ngStyle",b.xc(10,pt,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Tc("",b.mc(2,3,"Place")," ",b.mc(3,5,b.nc(4,7,"order",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type))," ")}}function Tr(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",34),b.Oc(1,Sr,13,20,"div",81),b.Zb(2,"div"),b.Oc(3,Qr,5,13,"button",37),b.Zb(4,"button",54),b.gc("click",(function(){return b.Hc(e),b.kc(3).itemSelection()})),b.Qc(5),b.lc(6,"translate"),b.lc(7,"translate"),b.lc(8,"localization"),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=b.kc(3);b.Hb(1),b.rc("ngForOf",null==e.editOrder?null:e.editOrder.products),b.Hb(2),b.rc("ngIf",e.editOrder.products&&e.editOrder.products.length),b.Hb(1),b.rc("ngStyle",b.xc(12,pt,e.style.primaryColor,e.style.baseColor)),b.Hb(1),b.Tc("",b.mc(6,5,"Add")," ",b.mc(7,7,b.nc(8,9,"product",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type))," ")}}function Pr(e,t){1&e&&b.Vb(0)}function wr(e,t){1&e&&b.Vb(0)}function Dr(e,t){1&e&&b.Vb(0)}function xr(e,t){if(1&e&&(b.Zb(0,"h6"),b.Zb(1,"strong"),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Yb(),b.Zb(4,"address"),b.Ub(5,"i",108),b.Qc(6),b.Ub(7,"br"),b.Qc(8),b.Ub(9,"br"),b.Yb()),2&e){const e=b.kc(3);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(2),b.Rc(8==(null==e.settings?null:e.settings.app_type)?"Service At":b.mc(3,9,"Deliver To")),b.Hb(2),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(2),b.Sc(" ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].delivery_address?null:e.orderHistory[e.selectedOrder].delivery_address.address_line_1,""),b.Hb(2),b.Sc(" ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].delivery_address?null:e.orderHistory[e.selectedOrder].delivery_address.customer_address,"")}}function Nr(e,t){if(1&e&&(b.Zb(0,"h6"),b.Qc(1),b.lc(2,"translate"),b.Yb(),b.Zb(3,"address"),b.Ub(4,"i",108),b.Qc(5),b.Ub(6,"br"),b.Yb()),2&e){const e=b.kc(3);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(2,8,"Pick From")),b.Hb(2),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(2),b.Sc(" ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].supplier_address,"")}}function Mr(e,t){if(1&e&&(b.Zb(0,"h6"),b.Qc(1),b.lc(2,"translate"),b.Yb(),b.Zb(3,"address"),b.Ub(4,"i",108),b.Qc(5),b.Ub(6,"br"),b.Yb()),2&e){const e=b.kc(3);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(2,8,"Dinin At")),b.Hb(2),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(2),b.Sc(" ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].supplier_address,"")}}function Rr(e,t){if(1&e&&(b.Zb(0,"div",46),b.Zb(1,"h3"),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Zb(4,"h6"),b.Zb(5,"label"),b.Qc(6),b.Yb(),b.Zb(7,"strong"),b.Qc(8),b.Yb(),b.Yb(),b.Zb(9,"h6"),b.Zb(10,"label"),b.Qc(11),b.Yb(),b.Zb(12,"strong"),b.Qc(13),b.Yb(),b.Yb(),b.Zb(14,"h6"),b.Zb(15,"label"),b.Qc(16),b.Yb(),b.Zb(17,"strong"),b.Qc(18),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.rc("ngStyle",b.xc(19,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(3,17,"TABLE DETAILS")),b.Hb(2),b.Nc("color",e.style.baseColor),b.Hb(2),b.Sc("","Table No.","\xa0:\xa0"),b.Hb(2),b.Rc(e.orderHistory[e.selectedOrder].table_details.table_number||"N/A"),b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(2),b.Sc("","Table Name","\xa0:\xa0"),b.Hb(2),b.Rc(e.orderHistory[e.selectedOrder].table_details.table_name||"N/A"),b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(2),b.Sc("","Seating Capacity","\xa0:\xa0"),b.Hb(2),b.Rc(e.orderHistory[e.selectedOrder].table_details.seating_capacity||"N/A")}}function Fr(e,t){if(1&e&&(b.Zb(0,"div"),b.Ub(1,"app-order-status-tracker",109),b.Yb()),2&e){const e=b.kc(3);b.Hb(1),b.Mc(e.style),b.rc("settings",e.settings)("order",e.orderHistory[e.selectedOrder])("@fade",void 0)}}function Er(e,t){if(1&e){const e=b.ac();b.Zb(0,"span",117),b.gc("click",(function(){b.Hc(e);const t=b.kc(4);return t.toRateAgent(t.orderHistory[t.selectedOrder])})),b.Ub(1,"i",78),b.Qc(2),b.lc(3,"localization"),b.Yb()}if(2&e){const e=b.kc(4);b.Nc("color",e.style.primaryColor),b.rc("@fade",void 0),b.Hb(2),b.Tc(" ","Rate To"," ",b.nc(3,5,"agent",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," ")}}const Ur=function(){return[5]};function qr(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"div",46),b.Zb(2,"h3",110),b.Qc(3),b.lc(4,"localization"),b.lc(5,"translate"),b.Oc(6,Er,4,8,"span",111),b.Yb(),b.Zb(7,"div",112),b.Zb(8,"ul",113),b.Zb(9,"li"),b.Zb(10,"div",114),b.Zb(11,"div",32),b.Qc(12),b.lc(13,"translate"),b.Yb(),b.Zb(14,"div",115),b.Qc(15),b.Yb(),b.Yb(),b.Yb(),b.Zb(16,"li"),b.Zb(17,"div",114),b.Zb(18,"div",32),b.Qc(19,"Phone No."),b.Yb(),b.Zb(20,"div",116),b.Qc(21),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.Hb(1),b.rc("ngStyle",b.xc(23,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.nc(4,16,"agent",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," ",b.mc(5,19,"DETAILS")," "),b.Hb(3),b.rc("ngIf",b.vc(26,Ur).includes(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].status)&&1==e.settings.is_agent_rating),b.Hb(2),b.Nc("color",e.style.baseColor),b.Hb(3),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(13,21,"Name")),b.Hb(2),b.rc("@fade",void 0),b.Hb(1),b.Sc("",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].agent[0]?null:e.orderHistory[e.selectedOrder].agent[0].name," "),b.Hb(3),b.rc("@fade",void 0),b.Hb(2),b.rc("@fade",void 0),b.Hb(1),b.Rc(null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].agent[0]?null:e.orderHistory[e.selectedOrder].agent[0].phone_number)}}function Ar(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.Yb()),2&e){const e=b.kc(5);b.Hb(1),b.Sc(" (",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].payment_source,")")}}function zr(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"strong"),b.Zb(4,"span"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,5,"Agent Verification Code")," : "),b.Hb(4),b.Rc(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].agent_verification_code)}}function Lr(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,5,"Change in Request")," : "),b.Hb(3),b.Sc("",null!=e.orderHistory[e.selectedOrder]&&e.orderHistory[e.selectedOrder].have_coin_change?"Yes":"No"," ")}}function Br(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"small",119),b.Qc(4),b.Yb(),b.Zb(5,"span"),b.Zb(6,"strong"),b.Qc(7),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(2,5,"Discount")," - "),b.Hb(3),b.Sc(" (",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].promoCode,")"),b.Hb(3),b.Tc(" - ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].discountAmount,"")}}function $r(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Ub(3,"small",119),b.Zb(4,"span"),b.Zb(5,"strong"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(2,4,"Discount")," - "),b.Hb(5),b.Tc(" - ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].discountAmount,"")}}function jr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Ub(3,"small",119),b.Zb(4,"span"),b.Zb(5,"strong"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Wallet Discount")," - "),b.Hb(5),b.Tc(" - ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].discountAmount,"")}}function Wr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Delivery Charges")," "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].delivery_charges?null:e.orderHistory[e.selectedOrder].delivery_charges.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function Gr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"AddOn Charges")," "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].addOn?null:e.orderHistory[e.selectedOrder].addOn.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function Vr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"localization"),b.lc(3,"localization"),b.Zb(4,"span"),b.Zb(5,"strong"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.nc(2,5,"agent",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," ",b.mc(3,8,"tip")," "),b.Hb(5),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].tip_agent.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function Xr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1," Slot Price "),b.Zb(2,"span"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].slot_price.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function Jr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Referral Discount")," "),b.Hb(4),b.Tc("- ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].referral_amount?null:e.orderHistory[e.selectedOrder].referral_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function Kr(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Loyalty Discount")," "),b.Hb(4),b.Tc("- ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].loyality_point_discount?null:e.orderHistory[e.selectedOrder].loyality_point_discount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function en(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"localization"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.nc(2,4,"supplier",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type)," Service Charge "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].user_service_charge?null:e.orderHistory[e.selectedOrder].user_service_charge.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function tn(e,t){if(1&e&&(b.Zb(0,"small"),b.Qc(1),b.Yb()),2&e){const e=b.kc(5);b.Hb(1),b.Uc(" ( XR: ",e.currency," 1 = ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].currency_exchange_rate," ) ")}}function rn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1,"Refund Amount "),b.Zb(2,"span"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].refund_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function nn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1,"Remaining Amount "),b.Zb(2,"span"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].remaining_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function cn(e,t){if(1&e&&(b.Zb(0,"div",112),b.Zb(1,"h5"),b.Qc(2),b.lc(3,"translate"),b.Zb(4,"strong"),b.Qc(5),b.lc(6,"translate"),b.lc(7,"localization"),b.Oc(8,Ar,2,1,"span",21),b.Yb(),b.Yb(),b.Oc(9,zr,6,7,"h5",67),b.Oc(10,Lr,5,7,"h5",67),b.Zb(11,"ul",113),b.Zb(12,"li"),b.Qc(13),b.lc(14,"translate"),b.Zb(15,"span"),b.Zb(16,"strong"),b.Qc(17),b.Yb(),b.Yb(),b.Yb(),b.Oc(18,Br,8,7,"li",21),b.Oc(19,$r,7,6,"li",21),b.Oc(20,jr,7,6,"li",21),b.Oc(21,Wr,6,6,"li",21),b.Oc(22,Gr,6,6,"li",21),b.Zb(23,"li"),b.Qc(24),b.lc(25,"translate"),b.lc(26,"localization"),b.Zb(27,"span"),b.Zb(28,"strong"),b.Qc(29),b.Yb(),b.Yb(),b.Yb(),b.Oc(30,Vr,7,10,"li",21),b.Oc(31,Xr,5,3,"li",21),b.Oc(32,Jr,6,6,"li",21),b.Oc(33,Kr,6,6,"li",21),b.Oc(34,en,6,7,"li",21),b.Zb(35,"li"),b.Qc(36),b.lc(37,"translate"),b.Oc(38,tn,2,3,"small",21),b.Zb(39,"span"),b.Zb(40,"strong"),b.Qc(41),b.Yb(),b.Yb(),b.Yb(),b.Oc(42,rn,5,3,"li",21),b.Oc(43,nn,5,3,"li",21),b.Yb(),b.Yb()),2&e){const e=b.kc(4);b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(3,35,"Payment Mode")," : "),b.Hb(3),b.Rc(3==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].payment_type)?"None":b.mc(6,37,2==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].payment_type)?"Free":0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].payment_type)?"Cash":b.nc(7,39,"Online",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].type))),b.Hb(3),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].payment_source),b.Hb(1),b.rc("ngIf",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].agent_verification_code)&&1==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].agent_verification_code_enable)),b.Hb(1),b.rc("ngIf",0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].payment_type)&&1==(null==e.settings?null:e.settings.is_coin_exchange)),b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(14,42,"Sub Total")),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].total_order_price.toFixed(null==e.settings?null:e.settings.price_decimal_length),""),b.Hb(1),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].promoCode),b.Hb(1),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].gift_amount),b.Hb(1),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].wallet_discount_amount),b.Hb(1),b.rc("ngIf",0==(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].self_pickup)&&8!=e.orderHistory[e.selectedOrder].type&&8!=(null==e.settings?null:e.settings.app_type)),b.Hb(1),b.rc("ngIf",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].addOn)&&(8==e.orderHistory[e.selectedOrder].type||8==(null==e.settings?null:e.settings.app_type))),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(25,44,b.mc(26,46,"tax"))," "),b.Hb(5),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].handling_admin.toFixed(null==e.settings?null:e.settings.price_decimal_length),""),b.Hb(1),b.rc("ngIf",e.orderHistory[e.selectedOrder].tip_agent),b.Hb(1),b.rc("ngIf",e.orderHistory[e.selectedOrder].slot_price&&1==(null==e.settings?null:e.settings.is_schdule_order)),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.referral_feature)&&e.orderHistory[e.selectedOrder].referral_amount),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.is_loyality_enable)&&e.orderHistory[e.selectedOrder].loyality_point_discount),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.supplier_service_fee)&&e.orderHistory[e.selectedOrder].user_service_charge),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(37,48,"Net Total")," "),b.Hb(2),b.rc("ngIf",1==e.settings.is_currency_exchange_rate&&e.orderHistory[e.selectedOrder].currency_exchange_rate),b.Hb(3),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].net_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length)," "),b.Hb(1),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].refund_amount),b.Hb(1),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].remaining_amount)}}function ln(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"div",46),b.Zb(2,"h3"),b.Qc(3),b.lc(4,"translate"),b.Yb(),b.Oc(5,cn,44,50,"div",118),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.Hb(1),b.rc("ngStyle",b.xc(8,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(4,6,"BILLING INFORMATION")),b.Hb(2),b.rc("ngIf",e.orderHistory.length>0)}}function sn(e,t){if(1&e&&(b.Zb(0,"span"),b.Qc(1),b.Yb()),2&e){const e=b.kc(5);b.Hb(1),b.Sc(" (",null==e.editOrder?null:e.editOrder.payment_source,")")}}function on(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"strong"),b.Zb(4,"span"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,5,"Agent Verification Code")," : "),b.Hb(4),b.Rc(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].agent_verification_code)}}function dn(e,t){if(1&e&&(b.Zb(0,"h5"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,5,"Change in Request")," : "),b.Hb(3),b.Sc("",null!=e.editOrder&&e.editOrder.have_coin_change?"Yes":"No"," ")}}function an(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"small",119),b.Qc(4),b.Yb(),b.Zb(5,"span"),b.Zb(6,"strong"),b.Qc(7),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(2,5,"Discount")," - "),b.Hb(3),b.Sc(" (",null==e.editOrder?null:e.editOrder.promoCode,")"),b.Hb(3),b.Tc(" - ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.discountAmount,"")}}function un(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Ub(3,"small",119),b.Zb(4,"span"),b.Zb(5,"strong"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(2,4,"Discount")," - "),b.Hb(5),b.Tc(" - ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.discountAmount,"")}}function bn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Ub(3,"small",119),b.Zb(4,"span"),b.Zb(5,"strong"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Wallet Discount")," - "),b.Hb(5),b.Tc(" - ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.discountAmount,"")}}function pn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Delivery Charges")," "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder||null==e.editOrder.delivery_charges?null:e.editOrder.delivery_charges.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function gn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"AddOn Charges")," "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder||null==e.editOrder.addOn?null:e.editOrder.addOn.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function yn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"localization"),b.lc(3,"localization"),b.Zb(4,"span"),b.Zb(5,"strong"),b.Qc(6),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Tc(" ",b.nc(2,5,"agent",null==e.editOrder?null:e.editOrder.type)," ",b.mc(3,8,"tip")," "),b.Hb(5),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.tip_agent.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function hn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1," Slot Price "),b.Zb(2,"span"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.slot_price.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function fn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Referral Discount")," "),b.Hb(4),b.Tc("- ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder||null==e.editOrder.referral_amount?null:e.editOrder.referral_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function mn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"translate"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(2,4,"Loyalty Discount")," "),b.Hb(4),b.Tc("- ",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder||null==e.editOrder.loyality_point_discount?null:e.editOrder.loyality_point_discount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function Hn(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1),b.lc(2,"localization"),b.Zb(3,"span"),b.Zb(4,"strong"),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.nc(2,4,"supplier",null==e.editOrder?null:e.editOrder.type)," Service Charge "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder||null==e.editOrder.user_service_charge?null:e.editOrder.user_service_charge.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function On(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1,"Refund Amount "),b.Zb(2,"span"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.refund_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function _n(e,t){if(1&e&&(b.Zb(0,"li"),b.Qc(1,"Remaining Amount "),b.Zb(2,"span"),b.Zb(3,"strong"),b.Qc(4),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(5);b.rc("@fade",void 0),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.remaining_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),"")}}function vn(e,t){if(1&e&&(b.Zb(0,"div",112),b.Zb(1,"h5"),b.Qc(2),b.lc(3,"translate"),b.Zb(4,"strong"),b.Qc(5),b.lc(6,"translate"),b.lc(7,"localization"),b.Oc(8,sn,2,1,"span",21),b.Yb(),b.Yb(),b.Oc(9,on,6,7,"h5",67),b.Oc(10,dn,5,7,"h5",67),b.Zb(11,"ul",113),b.Zb(12,"li"),b.Qc(13),b.lc(14,"translate"),b.Zb(15,"span"),b.Zb(16,"strong"),b.Qc(17),b.Yb(),b.Yb(),b.Yb(),b.Oc(18,an,8,7,"li",21),b.Oc(19,un,7,6,"li",21),b.Oc(20,bn,7,6,"li",21),b.Oc(21,pn,6,6,"li",21),b.Oc(22,gn,6,6,"li",21),b.Zb(23,"li"),b.Qc(24),b.lc(25,"translate"),b.lc(26,"localization"),b.Zb(27,"span"),b.Zb(28,"strong"),b.Qc(29),b.Yb(),b.Yb(),b.Yb(),b.Oc(30,yn,7,10,"li",21),b.Oc(31,hn,5,3,"li",21),b.Oc(32,fn,6,6,"li",21),b.Oc(33,mn,6,6,"li",21),b.Oc(34,Hn,6,7,"li",21),b.Zb(35,"li"),b.Qc(36),b.lc(37,"translate"),b.Zb(38,"span"),b.Zb(39,"strong"),b.Qc(40),b.Yb(),b.Yb(),b.Yb(),b.Oc(41,On,5,3,"li",21),b.Oc(42,_n,5,3,"li",21),b.Yb(),b.Yb()),2&e){const e=b.kc(4);b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc(" ",b.mc(3,34,"Payment Mode")," : "),b.Hb(3),b.Rc(3==(null==e.editOrder?null:e.editOrder.payment_type)?"None":b.mc(6,36,2==(null==e.editOrder?null:e.editOrder.payment_type)?"Free":0==(null==e.editOrder?null:e.editOrder.payment_type)?"Cash":b.nc(7,38,"Online",null==e.editOrder?null:e.editOrder.type))),b.Hb(3),b.rc("ngIf",null==e.editOrder?null:e.editOrder.payment_source),b.Hb(1),b.rc("ngIf",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].agent_verification_code),b.Hb(1),b.rc("ngIf",0==(null==e.editOrder?null:e.editOrder.payment_type)&&1==(null==e.settings?null:e.settings.is_coin_exchange)),b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(14,41,"Sub Total")),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.total_order_price.toFixed(null==e.settings?null:e.settings.price_decimal_length),""),b.Hb(1),b.rc("ngIf",null==e.editOrder?null:e.editOrder.promoCode),b.Hb(1),b.rc("ngIf",null==e.editOrder?null:e.editOrder.gift_amount),b.Hb(1),b.rc("ngIf",null==e.editOrder?null:e.editOrder.wallet_discount_amount),b.Hb(1),b.rc("ngIf",0==(null==e.editOrder?null:e.editOrder.self_pickup)&&8!=e.editOrder.type&&8!=(null==e.settings?null:e.settings.app_type)),b.Hb(1),b.rc("ngIf",(null==e.editOrder?null:e.editOrder.addOn)&&(8==e.editOrder.type||8==(null==e.settings?null:e.settings.app_type))),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(25,43,b.mc(26,45,"tax"))," "),b.Hb(5),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",((null==e.editOrder?null:e.editOrder.handling_admin)+(null==e.editOrder?null:e.editOrder.handling_supplier)).toFixed(null==e.settings?null:e.settings.price_decimal_length),""),b.Hb(1),b.rc("ngIf",null==e.editOrder?null:e.editOrder.tip_agent),b.Hb(1),b.rc("ngIf",(null==e.editOrder?null:e.editOrder.slot_price)&&1==(null==e.settings?null:e.settings.is_schdule_order)),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.referral_feature)&&e.editOrder.referral_amount),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.is_loyality_enable)&&e.editOrder.loyality_point_discount),b.Hb(1),b.rc("ngIf",1==(null==e.settings?null:e.settings.supplier_service_fee)&&e.editOrder.user_service_charge),b.Hb(1),b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(37,47,"Net Total")," "),b.Hb(4),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",null==e.editOrder?null:e.editOrder.net_amount.toFixed(null==e.settings?null:e.settings.price_decimal_length),""),b.Hb(1),b.rc("ngIf",null==e.editOrder?null:e.editOrder.refund_amount),b.Hb(1),b.rc("ngIf",null==e.editOrder?null:e.editOrder.remaining_amount)}}function kn(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"div",46),b.Zb(2,"h3"),b.Qc(3),b.lc(4,"translate"),b.Yb(),b.Oc(5,vn,43,49,"div",118),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.Hb(1),b.rc("ngStyle",b.xc(8,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(4,6,"BILLING INFORMATION")),b.Hb(2),b.rc("ngIf",e.orderHistory.length>0)}}function Yn(e,t){if(1&e&&(b.Zb(0,"div",46),b.Zb(1,"h3",100),b.Qc(2),b.lc(3,"translate"),b.Zb(4,"span",120),b.Qc(5),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(3);b.rc("ngStyle",b.xc(9,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(1),b.Nc("color",e.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Sc("",b.mc(3,7,"Refund Amount"),": "),b.Hb(3),b.Tc("",(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].local_currency)||e.currency," ",e.orderHistory[e.selectedOrder].refund_amount,"")}}const Zn=function(){return["/orders/order-listing"]},Cn=function(e,t){return{backgroundColor:e,color:t}},In=function(){return[2,3,5,8]},Sn=function(){return[1,8]},Qn=function(){return[2,5,8]},Tn=function(){return[1,3,4,10,11]};function Pn(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"div",23),b.Zb(2,"div",24),b.Zb(3,"div",25),b.Zb(4,"div",26),b.Zb(5,"ul"),b.Zb(6,"li"),b.Zb(7,"a",27),b.Qc(8),b.lc(9,"translate"),b.Yb(),b.Yb(),b.Zb(10,"li"),b.Zb(11,"a",28),b.Qc(12),b.lc(13,"translate"),b.lc(14,"localization"),b.Yb(),b.Yb(),b.Zb(15,"li"),b.Zb(16,"a",29),b.Qc(17),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(18,"section",30),b.Zb(19,"div",24),b.Zb(20,"div",31),b.Zb(21,"div",32),b.Zb(22,"h4",33),b.Qc(23),b.lc(24,"translate"),b.lc(25,"localization"),b.Yb(),b.Yb(),b.Zb(26,"div",34),b.Oc(27,bt,1,4,"app-order-payment",35),b.Oc(28,gt,3,7,"button",36),b.Oc(29,yt,5,13,"button",37),b.Oc(30,ht,5,13,"button",37),b.Oc(31,ft,2,4,"button",37),b.Oc(32,mt,1,4,"app-re-order",38),b.Yb(),b.Yb(),b.Zb(33,"div",25),b.Ub(34,"div",39),b.Oc(35,vt,17,28,"div",40),b.Yb(),b.Oc(36,kt,1,2,"i",41),b.Oc(37,Yt,1,2,"i",42),b.Oc(38,$t,25,45,"div",43),b.Oc(39,rr,18,29,"ng-template",null,44,b.Pc),b.Zb(41,"div",25),b.Oc(42,Cr,8,6,"div",45),b.Oc(43,Tr,9,15,"div",45),b.Zb(44,"div",32),b.Zb(45,"div",46),b.Zb(46,"h3"),b.Qc(47),b.lc(48,"translate"),b.Yb(),b.Oc(49,Pr,1,0,"ng-container",47),b.Oc(50,wr,1,0,"ng-container",47),b.Oc(51,Dr,1,0,"ng-container",47),b.Oc(52,xr,10,11,"ng-template",null,48,b.Pc),b.Oc(54,Nr,7,10,"ng-template",null,49,b.Pc),b.Oc(56,Mr,7,10,"ng-template",null,50,b.Pc),b.Yb(),b.Oc(58,Rr,19,22,"div",51),b.Oc(59,Fr,2,5,"div",21),b.Oc(60,qr,22,27,"div",21),b.Oc(61,ln,6,11,"div",21),b.Oc(62,kn,6,11,"div",21),b.Zb(63,"div"),b.Oc(64,Yn,6,12,"div",51),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.Ec(40),t=b.Ec(53),r=b.Ec(55),n=b.Ec(57),i=b.kc(2);b.Hb(1),b.Nc("background-color",i.style.backgroundColor),b.Hb(6),b.Nc("color",i.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(9,49,"My Account")),b.Hb(3),b.Nc("color",i.style.baseColor),b.rc("routerLink",b.vc(65,Zn))("@fade",void 0),b.Hb(1),b.Rc(b.mc(13,51,"My "+b.oc(14,53,"orders",null==i.settings?null:i.settings.app_type,1))),b.Hb(4),b.Nc("color",i.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].order_id),b.Hb(5),b.rc("ngStyle",b.xc(66,Cn,i.style.backgroundColor,i.style.baseColor))("@fade",void 0),b.Hb(1),b.Tc(" ",b.mc(24,57,b.oc(25,59,"order",null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].type,1)+" No.")," : ",null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].order_id,""),b.Hb(4),b.rc("ngIf",0==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].payment_status)&&(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].created_by)>0&&1==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)||(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].remaining_amount)&&1==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].payment_type)&&1==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].is_edit)||0==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].payment_status)&&3==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].payment_type)&&1==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].payment_after_confirmation)&&1==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)),b.Hb(1),b.rc("ngIf","1"==(null==i.settings?null:i.settings.is_sos_allow)),b.Hb(1),b.rc("ngIf","1"==(null==i.settings?null:i.settings.can_user_edit)&&!b.vc(69,In).includes(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)&&1!=i.orderHistory[i.selectedOrder].is_edit&&b.vc(70,Sn).includes(null==i.settings?null:i.settings.app_type)),b.Hb(1),b.rc("ngIf",!b.vc(71,Qn).includes(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)&&0==(null==i.settings?null:i.settings.disable_user_cancel_order)),b.Hb(1),b.rc("ngIf",(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].dhlData)&&(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].dhlData.length)),b.Hb(1),b.rc("ngIf",5==(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)&&8!==i.orderHistory[i.selectedOrder].type&&8!=(null==i.settings?null:i.settings.app_type)&&0==(null==i.settings?null:i.settings.laundary_service_flow)),b.Hb(3),b.rc("ngIf",1==i.orderHistory[i.selectedOrder].self_pickup&&b.vc(72,Tn).includes(i.orderHistory[i.selectedOrder].status)),b.Hb(1),b.rc("ngIf",0!=i.selectedOrder),b.Hb(1),b.rc("ngIf",i.selectedOrder!=i.orderHistory.length-1),b.Hb(1),b.rc("ngIf",0==i.settings.is_single_vendor)("ngIfElse",e),b.Hb(4),b.rc("ngIf",!i.isEditOrder),b.Hb(1),b.rc("ngIf",i.isEditOrder),b.Hb(2),b.rc("ngStyle",b.xc(73,At,i.style.cardBackgroundColor,i.style.secondaryColor)),b.Hb(1),b.Nc("color",i.style.baseColor),b.rc("@fade",void 0),b.Hb(1),b.Rc(b.mc(48,63,"ADDRESS DETAILS")),b.Hb(2),b.rc("ngIf",1===(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].self_pickup))("ngIfThen",r),b.Hb(1),b.rc("ngIf",0===(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].self_pickup))("ngIfThen",t),b.Hb(1),b.rc("ngIf",3===(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].self_pickup))("ngIfThen",n),b.Hb(7),b.rc("ngIf",i.orderHistory[i.selectedOrder].table_details),b.Hb(1),b.rc("ngIf",i.orderHistory[i.selectedOrder]),b.Hb(1),b.rc("ngIf",(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].agent.length)&&!(null!=i.orderHistory[i.selectedOrder]&&i.orderHistory[i.selectedOrder].self_pickup)),b.Hb(1),b.rc("ngIf",!i.isEditOrder),b.Hb(1),b.rc("ngIf",i.isEditOrder),b.Hb(2),b.rc("ngIf",8==i.orderHistory[i.selectedOrder].status&&i.orderHistory[i.selectedOrder].refund_amount)}}function wn(e,t){if(1&e){const e=b.ac();b.Zb(0,"app-order-supplier-products",121),b.gc("onBack",(function(){return b.Hc(e),b.kc(2).isAddItems=!1}))("onAdd",(function(t){return b.Hc(e),b.kc(2).onProductAdd(t)})),b.Yb()}if(2&e){const e=b.kc(2);b.Mc(e.style),b.rc("settings",e.settings)("orderType",e.orderHistory[e.selectedOrder].type||e.settings.app_type)("supplierId",null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].supplier_id)("selectedProducts",e.editOrder.products)}}function Dn(e,t){if(1&e&&(b.Xb(0),b.Oc(1,Pn,65,76,"div",21),b.Oc(2,wn,1,6,"app-order-supplier-products",22),b.Wb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngIf",!e.isAddItems),b.Hb(1),b.rc("ngIf",e.isAddItems)}}function xn(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",57),b.Zb(1,"label",122),b.Qc(2,"Reason"),b.Yb(),b.Zb(3,"textarea",123),b.gc("ngModelChange",(function(t){return b.Hc(e),b.kc().returnProductReason=t})),b.Yb(),b.Yb()}if(2&e){const e=b.kc();b.Hb(3),b.rc("ngModel",e.returnProductReason)}}const Nn=function(){return{height:"22px"}},Mn=function(){return{height:"14px",width:"150px"}},Rn=function(){return{height:"22px",width:"100px",float:"right"}};function Fn(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"div",85),b.Zb(2,"div",126),b.Zb(3,"span",87),b.Ub(4,"img"),b.Yb(),b.Zb(5,"div",88),b.Ub(6,"h2",69),b.Ub(7,"h4",69),b.Yb(),b.Zb(8,"div",91),b.Ub(9,"h3",69),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.rc("ngStyle",b.xc(4,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(5),b.rc("ngStyle",b.vc(7,Nn)),b.Hb(1),b.rc("ngStyle",b.vc(8,Mn)),b.Hb(2),b.rc("ngStyle",b.vc(9,Rn))}}const En=function(){return{height:"32px"}},Un=function(){return{height:"16px"}},qn=function(){return{height:"14px"}};function An(e,t){if(1&e&&(b.Zb(0,"div",124),b.Zb(1,"div",23),b.Zb(2,"div",24),b.Zb(3,"div",25),b.Zb(4,"div",26),b.Ub(5,"p"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(6,"section",30),b.Zb(7,"div",24),b.Zb(8,"div",25),b.Zb(9,"div",34),b.Ub(10,"h4",125),b.Yb(),b.Zb(11,"div",32),b.Ub(12,"a"),b.Yb(),b.Yb(),b.Zb(13,"div",25),b.Zb(14,"div",26),b.Zb(15,"div",64),b.Zb(16,"div",65),b.Ub(17,"h2",69),b.Ub(18,"p",69),b.Ub(19,"h5",69),b.Yb(),b.Zb(20,"div",68),b.Ub(21,"h4",69),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(22,"div",25),b.Zb(23,"div",34),b.Oc(24,Fn,10,10,"div",81),b.Yb(),b.Zb(25,"div",32),b.Zb(26,"div",46),b.Ub(27,"h3"),b.Xb(28),b.Zb(29,"h6"),b.Ub(30,"strong"),b.Yb(),b.Zb(31,"address"),b.Ub(32,"p"),b.Ub(33,"p"),b.Yb(),b.Wb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.Nc("background-color",e.style.backgroundColor),b.Hb(14),b.rc("ngStyle",b.xc(11,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(2),b.rc("ngStyle",b.vc(14,En)),b.Hb(1),b.rc("ngStyle",b.vc(15,Un)),b.Hb(1),b.rc("ngStyle",b.vc(16,qn)),b.Hb(2),b.rc("ngStyle",b.vc(17,Rn)),b.Hb(3),b.rc("ngForOf",e.util.generateFakeList(2)),b.Hb(2),b.rc("ngStyle",b.xc(18,At,e.style.cardBackgroundColor,e.style.secondaryColor)),b.Hb(5),b.Nc("color",e.style.baseColor)}}function zn(e,t){if(1&e&&(b.Zb(0,"ul"),b.Zb(1,"li"),b.Qc(2),b.Yb(),b.Zb(3,"li"),b.Qc(4),b.Yb(),b.Zb(5,"li"),b.Qc(6),b.Yb(),b.Zb(7,"li"),b.Qc(8),b.Yb(),b.Zb(9,"li"),b.Qc(10),b.Yb(),b.Zb(11,"li"),b.Qc(12),b.lc(13,"date"),b.Yb(),b.Zb(14,"li"),b.Qc(15),b.Yb(),b.Zb(16,"li"),b.Qc(17),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(2),b.Sc("AWB No. : ",null==e.dhlData?null:e.dhlData.AWBNumber,""),b.Hb(2),b.Sc("Consignee Name : ",null==e.dhlData||null==e.dhlData.ShipmentInfo?null:e.dhlData.ShipmentInfo.ConsigneeName,""),b.Hb(2),b.Uc("Consignee Address : ",null==e.dhlData||null==e.dhlData.ShipmentInfo||null==e.dhlData.ShipmentInfo.Consignee?null:e.dhlData.ShipmentInfo.Consignee.City,", ",null==e.dhlData||null==e.dhlData.ShipmentInfo||null==e.dhlData.ShipmentInfo.Consignee?null:e.dhlData.ShipmentInfo.Consignee.CountryCode,", ",null==e.dhlData||null==e.dhlData.ShipmentInfo||null==e.dhlData.ShipmentInfo.Consignee?null:e.dhlData.ShipmentInfo.Consignee.PostalCode,""),b.Hb(2),b.Sc("Pieces : ",null==e.dhlData||null==e.dhlData.ShipmentInfo?null:e.dhlData.ShipmentInfo.Pieces,""),b.Hb(2),b.Tc("Weight : ",null==e.dhlData||null==e.dhlData.ShipmentInfo?null:e.dhlData.ShipmentInfo.Weight,"",null==e.dhlData||null==e.dhlData.ShipmentInfo?null:e.dhlData.ShipmentInfo.WeightUnit,""),b.Hb(2),b.Sc("Shipment Date : ",b.nc(13,12,null==e.dhlData||null==e.dhlData.ShipmentInfo?null:e.dhlData.ShipmentInfo.ShipmentDate,"medium"),""),b.Hb(3),b.Sc("Shipment Description : ",null==e.dhlData||null==e.dhlData.ShipmentInfo?null:e.dhlData.ShipmentInfo.ShipmentDesc,""),b.Hb(2),b.Tc("Status : ",null==e.dhlData||null==e.dhlData.ShipmentInfo||null==e.dhlData.ShipmentInfo.ShipmentEvent||null==e.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent?null:e.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent.Description," (",null==e.dhlData||null==e.dhlData.ShipmentInfo||null==e.dhlData.ShipmentInfo.ShipmentEvent||null==e.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent?null:e.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent.EventCode,")")}}let Ln=(()=>{class e{constructor(e,t,r,n,i,c,l,s,o,d,a,u,b){this.route=e,this.http=t,this.user=r,this.util=n,this.cartService=i,this.firebaseService=c,this.router=l,this.localization=s,this.message=o,this.seo=d,this.translate=a,this.firebaseAnalyticsSvc=u,this.location=b,this.orderIds=[],this.orderHistory=[],this.selectedOrder=0,this.currency="",this.showLine={isPlaced:!1,isShipped:!1,isNear:!1,isDelivered:!1},this.status=[],this.isLoading=!0,this.isPayOnline=!1,this.refundToWallet=0,this.isReturnProduct=!1,this.returnProductReason="",this.isEditOrder=!1,this.isAddItems=!1,this.dhlData="",this.userOrderStatus=0,this.style=new h.a,this.currency=z.a.CURRENCY}ngOnInit(){this.seo.updateTitle(`${this.localization.transform("order")} Details | ${z.a.SITE_NAME}`),this.styleSubscription=this.util.getStyles.subscribe(e=>{this.style=e}),this.settingsSubscription=this.util.getSettings.subscribe(e=>{e&&(this.settings=e)}),this.subscribeRoute(),this.makeSubscribe(),this.getCurrentUser()}getCurrentUser(){this.userSubscription=this.user.currentUser.subscribe(e=>{this.currentUser=e})}makeSubscribe(){this.getDataSubscribe=this.util.callGetData.subscribe(e=>{e&&this.getDetail()}),this.firebaseService.currentMessage.subscribe(e=>{e&&this.orderHistory&&this.orderHistory.length&&e.data.orderId==this.orderHistory[this.selectedOrder].order_id&&this.getDetail()})}subscribeRoute(){this.subscription=this.route.queryParams.subscribe(e=>{this.orderIds=e.orderId})}getDetail(){this.isLoading=!0;let e={languageId:parseInt(this.util.handler.languageId),accessToken:this.user.getUserToken,orderId:this.orderIds,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude};this.http.postData(u.a.orders.getOrderDetail,e).subscribe(e=>{e&&e.data&&(this.orderHistory=e.data.orderHistory,this.orderHistory&&(this.orderHistory.map(e=>{e.agent.length&&(e.start_time=e.delivered_on,e.end_time=U(e.delivered_on).add(e.duration,"minutes"))}),this.orderHistory.forEach(e=>{e.products=this.mapOrderProducts(e),e.questions&&(e.questions=JSON.parse(e.questions)),e.discountAmount=(parseFloat(e.discountAmount)||parseFloat(e.gift_amount)||parseFloat(e.wallet_discount_amount)).toFixed(2)})),this.isLoading=!1)},e=>this.isLoading=!1)}mapOrderProducts(e){let t=[];return e.product.forEach(e=>{if(e.adds_on&&e.adds_on.length){const r=A.a.groupBy(e.adds_on,"serial_number");if(Object.keys(r).length>1)for(let n in r){let i=r[n];const c={quantity:i[0].quantity,data:this.makeCustomizationModel(i)};let l=0;i.forEach(e=>{l+=Number(e.price)*e.quantity});let s=Object.assign({},e);s.customization=c,s.quantity=i[0].quantity,s.totalPrice=parseFloat(s.fixed_price)*i[0].quantity+l,t.push(s)}else{e.customization={quantity:e.adds_on[0].quantity,data:this.makeCustomizationModel(e.adds_on)};let r=0;e.adds_on.forEach(e=>{r+=Number(e.price)*e.quantity}),e.totalPrice=parseFloat(e.fixed_price)*e.quantity+r,t.push(e)}}else e.totalPrice=parseFloat(e.fixed_price)*e.quantity,t.push(e)}),t}makeCustomizationModel(e){let t=[];const r=A.a.groupBy(e,"adds_on_name");for(let n in r){let e={name:n,value:[]};e.value=r[n].map(e=>({type_name:e.adds_on_type_name,name:n,type_id:e.adds_on_type_jd,id:e.id,price:e.price,adds_on_type_quantity:e.adds_on_type_quantity})),t.push(e)}return t}addOnNames(e){return 0==e.adds_on_type_quantity?e.map(e=>""+e.type_name).toString():e.map(e=>`${e.type_name}x${e.adds_on_type_quantity}`).toString()}toRateProduct(e){this.router.navigate(["orders/rating"],{queryParams:{productId:e.product_id,supplierBranchId:e.supplier_branch_id,orderId:this.orderIds,type:"product"}})}toRateSupplier(e){this.router.navigate(["orders/rating"],{queryParams:{type:"supplier",supplierId:e.supplier_id,supplierBranchId:e.supplier_branch_id,categoryId:e.product[0].category_id,orderId:e.order_id}})}toRateAgent(e){this.router.navigate(["orders/rating"],{queryParams:{type:"agent",agentId:e.agent[0].id,agentName:e.agent[0].name,agentImage:e.agent[0].image,supplierBranchId:e.supplier_branch_id,categoryId:e.product[0].category_id,orderId:e.order_id}})}trackOrder(e){2!=this.settings.app_type?this.router.navigate(["/orders/track-order"],{queryParams:{orderId:e.order_id,lng:e.longitude,lat:e.latitude,a_lat:e.agent.length?e.agent[0].latitude:0,a_lng:e.agent.length?e.agent[0].longitude:0,selfPickup:e.self_pickup}}):this.message.alert("info",this.translate.instant("Coming Soon"))}onCancel(e){if(1==e.payment_type&&1==this.settings.wallet_module)return this.showWalletRefund();this.message.confirm(`${this.translate.instant("Cancel This")} ${this.localization.transform("order")}`).then(t=>{t.value&&this.cancelOrder(e)})}cancelOrder(e){this.isLoading=!0;let t={languageId:this.util.handler.languageId,accessToken:this.user.getUserToken,orderId:e.order_id,isScheduled:e.schedule_order};t.cancel_to_wallet=1!=e.payment_type?1:this.refundToWallet,this.http.postData(u.a.orders.cancelOrder,t).subscribe(e=>{this.isLoading=!1,e&&e.data&&(this.message.toast("success",`${this.localization.transform("order")} ${this.translate.instant("Cancelled Successfully")}`),this.getDetail())})}showWalletRefund(){$("#walletRefund").modal("toggle")}returnRequest(e){return Object(M.a)(this,void 0,void 0,(function*(){if(this.productToReturn=e,1==this.orderHistory[this.selectedOrder].payment_type)return this.isReturnProduct=!0,void this.showWalletRefund();const{value:t}=yield W.a.fire({input:"textarea",inputPlaceholder:"Type your reason here...",inputAttributes:{"aria-label":"Type your reason here"},confirmButtonColor:this.style.primaryColor,cancelButtonColor:this.style.secondaryColor,showCancelButton:!0});t&&this.returnProductRequest(t)}))}returnProductRequest(e){this.isReturnProduct=!1;let t={order_price_id:this.productToReturn.order_price_id,product_id:this.productToReturn.product_id,reason:e||this.returnProductReason};t.refund_to_wallet=1!=this.orderHistory[this.selectedOrder].payment_type.payment_type?1:this.refundToWallet,this.http.postData(u.a.orders.requestReturn,t).subscribe(e=>{e&&e.data&&(this.message.toast("success",this.localization.transform("product")+" return request generated successfully"),this.getDetail())})}onStatusChange(e){return Object(M.a)(this,void 0,void 0,(function*(){const t={order_id:this.orderHistory[this.selectedOrder].order_id,status:e};if(4==t.status){const{value:e}=yield W.a.fire({input:"textarea",inputPlaceholder:"Type your parking instruction here...",inputAttributes:{"aria-label":"Type your parking instruction here"},confirmButtonColor:this.style.primaryColor,cancelButtonColor:this.style.secondaryColor,showCancelButton:!0});t.parking_instructions=e}this.isLoading=!0,this.http.postData(u.a.orders.changeOrderStatus,t).subscribe(e=>{e&&200==e.status&&(this.getDetail(),this.message.toast("success",`${this.localization.transform("order")} ${this.translate.instant("Status Updated!")}`)),this.isLoading=!1},e=>{this.message.toast("error",`${this.translate.instant("Failed To Update")} ${this.localization.transform("order")} ${this.translate.instant("status")}`),this.isLoading=!1})}))}download(e){const t=document.createElement("a");document.body.appendChild(t),t.href=e.recipe_pdf,t.target="_blank",t.setAttribute("style","display: none"),t.download=e.name,t.click(),document.body.removeChild(t)}onEditOrder(e){this.isEditOrder=!0,this.editOrder=Object.assign({},e),this.editOrder.products=e.products.map(e=>Object.assign({},e)),this.editOrder.products.forEach(e=>{e.selectedQuantity=e.quantity}),this.getGeofenceData()}getGeofenceData(){let e=this.orderHistory[this.selectedOrder].product.map(e=>e.product_id);this.http.postData(u.a.checkProductList,{product_ids:e,latitude:this.orderHistory[this.selectedOrder].to_latitude,longitude:this.orderHistory[this.selectedOrder].to_longitude}).subscribe(e=>{if(e&&e.data){let t=e.data.result;this.orderHistory[this.selectedOrder].delivery_charges=e.data.region_delivery_charge,this.orderHistory[this.selectedOrder].handling_admin=0,this.orderHistory[this.selectedOrder].product.forEach(e=>{t.forEach(t=>{e.product_id==t.product_id&&(this.orderHistory[this.selectedOrder].handling_admin=+t.handling_admin,e.handling_admin=t.handling_admin)})}),this.getTotal()}})}increaseValue(e){8==this.editOrder.type?e.price_type?e.selectedQuantity+=e.duration/this.settings.interval:e.selectedQuantity=++e.selectedQuantity:(e.selectedQuantity||(e.selectedQuantity=e.quantity||0),e.selectedQuantity<=0?e.selectedQuantity=1:e.selectedQuantity++)}decreaseValue(e){if(8==this.editOrder.type){if(e.price_type?e.selectedQuantity-=e.duration/this.settings.interval:e.selectedQuantity=--e.selectedQuantity,e.selectedQuantity<1)return void(this.editOrder.products=this.editOrder.products.filter(t=>(t.product_id||t.productId)!=(e.product_id||e.productId)))}else{if(e.selectedQuantity||(e.selectedQuantity=e.quantity||0),e.selectedQuantity<=1)return void(this.editOrder.products=this.editOrder.products.filter(t=>(t.product_id||t.productId)!=(e.product_id||e.productId)));e.selectedQuantity--}}onProductAdd(e){this.editOrder.products=e,this.isAddItems=!1,8==this.settings.app_type&&(this.editOrder.total_order_price=0,this.editOrder.products.forEach(e=>{this.editOrder.total_order_price+=parseFloat(e.fixed_price)*e.selectedQuantity}),this.getEditTotal())}onAddItems(){const e={sectionId:0,orderId:this.editOrder.order_id,handlingAdmin:this.editOrder.handling_admin,userServiceCharge:0},t=[];this.orderHistory[this.selectedOrder].products.forEach(e=>{this.editOrder.products.find(t=>(t.product_id||t.productId)==(e.product_id||e.productId))?8==this.settings.app_type&&this.editOrder.products.find(t=>(t.product_id||t.productId)!=(e.product_id||e.productId))&&t.push(e.order_price_id):t.push(e.order_price_id)}),t&&t.length&&(e.removalItems=t),8!=this.editOrder.type&&8!=this.settings.app_type||(e.duration=0),e.items=this.editOrder.products.map(t=>{let r={price:t.fixed_price,quantity:t.selectedQuantity,productName:t.product_name||t.name,productId:t.product_id||t.productId,branchId:this.editOrder.supplier_branch_id,productDesc:t.product_desc,imagePath:t.image_path,orderPriceId:t.order_price_id};return 0==t.is_product?t.price_type?(e.pricing_type=1,e.duration+=this.settings.interval*t.selectedQuantity):(e.pricing_type=0,e.duration+=t.duration*t.selectedQuantity):1==t.price_type&&(e.pricing_type=1,e.duration+=60*t.selectedQuantity),r});let r=0;this.editOrder.products.forEach(e=>{const t=this.cartService.calulateProductPrice(e);r+=t*e.handling_admin/100}),8==this.settings.app_type&&this.editOrder.addOn&&(r+=this.editOrder.addOn*this.editOrder.products[0].handling_admin/100),e.handlingAdmin=r;const n=e.items.reduce((e,t)=>Number(t.price)+e,0);1==this.settings.supplier_service_fee&&this.editOrder.user_service_charge&&(e.userServiceCharge=this.editOrder.user_service_charge/100*n),this.isLoading=!0,this.http.postData(u.a.orders.addItems,e).subscribe(e=>{e&&200==e.status&&this.getDetail(),this.isLoading=!1,this.isEditOrder=!1},e=>this.isLoading=!1)}getTotal(){this.orderHistory[this.selectedOrder].net_amount=this.orderHistory[this.selectedOrder].total_order_price+this.orderHistory[this.selectedOrder].delivery_charges+this.orderHistory[this.selectedOrder].handling_admin+this.orderHistory[this.selectedOrder].user_service_charge+this.orderHistory[this.selectedOrder].tip_agent+this.orderHistory[this.selectedOrder].slot_price-(this.orderHistory[this.selectedOrder].loyality_point_discount+this.orderHistory[this.selectedOrder].wallet_discount_amount+this.orderHistory[this.selectedOrder].referral_amount+this.orderHistory[this.selectedOrder].discountAmount)}getEditTotal(){let e=0;this.editOrder.products.forEach(t=>{const r=this.cartService.calulateProductPrice(t);e+=r*t.handling_admin/100}),8==this.settings.app_type&&this.editOrder.addOn&&(e+=this.editOrder.addOn*this.editOrder.products[0].handling_admin/100),this.editOrder.handling_admin=e,this.editOrder.net_amount=this.editOrder.total_order_price+this.editOrder.delivery_charges+this.editOrder.handling_admin+this.editOrder.user_service_charge+this.editOrder.addOn+this.editOrder.tip_agent+this.editOrder.slot_price-(this.editOrder.loyality_point_discount+this.editOrder.wallet_discount_amount+this.editOrder.referral_amount+this.editOrder.discountAmount)}dhlStatus(){this.http.postData(u.a.orders.trackDHL,{orderId:this.orderHistory[this.selectedOrder].order_id}).subscribe(e=>{e&&e.data&&(this.dhlData=e.data,$("#dhl_status").modal("toggle"))})}onSOSNotification(){var e={user_id:this.currentUser.id,device_type:3};this.isLoading=!0,this.location.openTracker().subscribe(t=>{e.addredd=t.address,e.latitude=t.lat,e.longitude=t.lng,this.http.postData(u.a.sosAlertNotification,e).subscribe(e=>{this.isLoading=!1,200==e.status&&this.message.toast("success","SOS notification sent successfuly")},e=>{this.isLoading=!1})},e=>{this.message.alert("error",e.message)})}itemSelection(){this.isAddItems=!0,this.util.diableCart.next(!0)}ngOnDestroy(){this.styleSubscription.unsubscribe(),this.subscription.unsubscribe(),this.getDataSubscribe.unsubscribe(),this.settingsSubscription.unsubscribe(),this.firebaseSubscription&&this.firebaseSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(X.a),b.Tb(d.a),b.Tb(E.a),b.Tb(a.a),b.Tb(R.a),b.Tb(B.a),b.Tb(X.g),b.Tb(_.a),b.Tb(s.a),b.Tb(F.a),b.Tb(O.e),b.Tb(G.a),b.Tb(V.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-detail"]],decls:39,vars:16,consts:[[4,"ngIf","ngIfElse"],["id","walletRefund",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],["class","form-group",4,"ngIf"],[1,"form-check-inline"],["for","radio1",1,"form-check-label"],["type","radio","id","radio1","name","refund",1,"form-check-input",3,"value","ngModel","checked","ngModelChange"],[1,"check-span"],["for","radio2",1,"form-check-label"],["type","radio","id","radio2","name","refund",1,"form-check-input",3,"value","ngModel","checked","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["skeleton",""],["id","dhl_status",1,"modal","fade"],["type","button","data-dismiss","modal",1,"close"],[4,"ngIf"],[3,"settings","style","orderType","supplierId","selectedProducts","onBack","onAdd",4,"ngIf"],[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)"],["href","javascript:void(0)",3,"routerLink"],["href","javascript:void(0)",1,"active"],[1,"product_result_body"],[1,"row","cancel-order-outter"],[1,"col-md-4"],[1,"mb-4",3,"ngStyle"],[1,"col-md-8"],[3,"style","settings","order","paymentComplete",4,"ngIf"],["class","btn cancel-order","type","submit",3,"ngStyle","click",4,"ngIf"],["class","btn cancel-order",3,"ngStyle","click",4,"ngIf"],[3,"style","order","settings",4,"ngIf"],[1,"col-md-9"],["class","col-md-3",4,"ngIf"],["class","fa fa-arrow-left arrow-left cursor",3,"color","click",4,"ngIf"],["class","fa fa-arrow-right arrow-right cursor",3,"color","click",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["singleVendor",""],["class","col-md-8",4,"ngIf"],[1,"track_order_outter_detail",3,"ngStyle"],[4,"ngIf","ngIfThen"],["deliver",""],["selfPick",""],["dininBooking",""],["class","track_order_outter_detail",3,"ngStyle",4,"ngIf"],[3,"settings","order","paymentComplete"],["type","submit",1,"btn","cancel-order",3,"ngStyle","click"],[1,"btn","cancel-order",3,"ngStyle","click"],[3,"order","settings"],[1,"col-md-3"],[1,"form-group"],["for","exampleFormControlSelect2"],[1,"form-control",2,"box-shadow","none",3,"ngModel","ngModelChange","change"],["disabled","","selected","",3,"value"],[3,"value","selected","disabled"],[1,"fa","fa-arrow-left","arrow-left","cursor",3,"click"],[1,"fa","fa-arrow-right","arrow-right","cursor",3,"click"],[1,"order-supplier",3,"ngStyle"],[1,"supplier-info"],[1,"capitalize",3,"ngStyle"],[3,"color",4,"ngIf"],[1,"order-status"],[3,"ngStyle"],[1,"order_track_buttons"],[3,"ngStyle","click",4,"ngIf"],["class","cursor",3,"color","click",4,"ngIf"],[3,"receiver_created_id","order",4,"ngIf"],[3,"ngStyle","click"],["style","padding: 0px;",4,"ngIf"],[2,"padding","0px"],[1,"cursor",3,"click"],["aria-hidden","true",1,"fa","fa-star"],[3,"receiver_created_id","order"],[1,"single-supplier-info"],[4,"ngFor","ngForOf"],[1,"col-12","order-detail"],[3,"questions","style","cartPrice",4,"ngIf"],["class","order-instruction",4,"ngIf"],[1,"track_order_outter","food_track_order_outer",3,"ngStyle"],[1,"track_order_name_detail",2,"position","relative"],[1,"track_order_img"],[1,"track_order_name"],[3,"color",4,"ngIf","ngIfElse"],["other_content",""],[1,"tracker_order_price"],["type","button","class","return-request",3,"color","click",4,"ngIf"],["class","return-status",4,"ngIf"],[1,"track_order_number","food_track_order"],[1,"cart-product-addon"],["opacity","0.5",3,"color",4,"ngFor","ngForOf"],["opacity","0.5"],[3,"ngIf","ngIfElse"],["color",""],[1,"mb-0"],[1,"cart-color-varient"],[1,"download-file",3,"click"],["type","button",1,"return-request",3,"click"],[1,"return-status"],[3,"questions","cartPrice"],[1,"order-instruction"],[3,"settings","priceType","isProduct","selectedQuantity","onAdd","onRemove"],["aria-hidden","true",1,"fa","fa-map-marker","mr-1"],[3,"settings","order"],[1,"text-uppercase"],["class","float-right","style","font-size: 12px; float: right;","class","cursor",3,"color","click",4,"ngIf"],[1,"billing-info"],[1,"bill-list"],[1,"row","word-break"],[1,"col-md-8","word","capitalize"],[1,"col-md-8","word"],[1,"cursor",2,"font-size","12px","float","right",3,"click"],["class","billing-info",4,"ngIf"],[1,"uppercase"],[1,"float-right"],[3,"settings","orderType","supplierId","selectedProducts","onBack","onAdd"],["for","comment"],["rows","5","id","comment","name","reason",1,"form-control",3,"ngModel","ngModelChange"],[1,"skeleton"],[1,"mb-4"],[1,"track_order_name_detail"]],template:function(e,t){if(1&e&&(b.Oc(0,Dn,3,2,"ng-container",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"div",4),b.Zb(5,"h4",5),b.Qc(6,"Refund Payment To"),b.Yb(),b.Zb(7,"button",6),b.gc("click",(function(){return t.isReturnProduct=!1})),b.Yb(),b.Yb(),b.Zb(8,"div",7),b.Zb(9,"form"),b.Oc(10,xn,4,1,"div",8),b.Zb(11,"div",9),b.Zb(12,"label",10),b.Qc(13),b.lc(14,"translate"),b.Zb(15,"input",11),b.gc("ngModelChange",(function(e){return t.refundToWallet=e})),b.Yb(),b.Ub(16,"span",12),b.Yb(),b.Yb(),b.Zb(17,"div",9),b.Zb(18,"label",13),b.Qc(19),b.lc(20,"translate"),b.Zb(21,"input",14),b.gc("ngModelChange",(function(e){return t.refundToWallet=e})),b.Yb(),b.Ub(22,"span",12),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(23,"div",15),b.Zb(24,"button",16),b.gc("click",(function(){return t.isReturnProduct?t.returnProductRequest():t.cancelOrder(t.orderHistory[t.selectedOrder])})),b.Qc(25,"Submit"),b.Yb(),b.Zb(26,"button",17),b.gc("click",(function(){return t.isReturnProduct=!1})),b.Qc(27,"Close"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Oc(28,An,34,21,"ng-template",null,18,b.Pc),b.Zb(30,"div",19),b.Zb(31,"div",2),b.Zb(32,"div",3),b.Zb(33,"div",4),b.Zb(34,"h4",5),b.Qc(35,"DHL Shipment Status"),b.Yb(),b.Ub(36,"button",20),b.Yb(),b.Zb(37,"div",7),b.Oc(38,zn,18,15,"ul",21),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.Ec(29);b.rc("ngIf",!t.isLoading)("ngIfElse",e),b.Hb(10),b.rc("ngIf",t.isReturnProduct),b.Hb(3),b.Sc("",b.mc(14,12,"Initial Payment Source")," "),b.Hb(2),b.rc("value",0)("ngModel",t.refundToWallet)("checked",!t.refundToWallet),b.Hb(4),b.Sc("",b.mc(20,14,"Wallet")," "),b.Hb(2),b.rc("value",1)("ngModel",t.refundToWallet)("checked",t.refundToWallet),b.Hb(17),b.rc("ngIf",t.dhlData)}},directives:[g.m,J.x,J.n,J.o,J.s,J.b,J.m,J.p,X.j,g.n,ce,se,J.u,J.q,J.w,oe.a,g.l,he,fe.a,me.a,Ee,st],pipes:[O.d,_.a,He,g.e,ot,dt,at.a,ut],styles:['.charges[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px}.charges[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:0!important}.billing-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase;font-weight:400}.billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]{list-style:none;padding-left:0!important;line-height:28px;font-size:14px}.billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:inline-block}.word-break[_ngcontent-%COMP%]{word-break:break-all}.word-break[_ngcontent-%COMP%]   .word[_ngcontent-%COMP%]{text-align:right}.addOnTable[_ngcontent-%COMP%]{margin:15px}.order-instruction[_ngcontent-%COMP%]{margin-top:20px;border:1px solid var(--secondaryColor);border-radius:4px;padding:10px}.order-instruction[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px dashed var(--secondaryColor);color:var(--primaryColor);padding-bottom:10px}.order-instruction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--baseColor);opacity:.8}.return-request[_ngcontent-%COMP%]{font-weight:600}.download-file[_ngcontent-%COMP%]{font-size:12px;cursor:pointer;text-transform:lowercase;color:var(--primaryColor);font-weight:700}.download-file[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--primaryColor)}.btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--primaryColor);border-color:var(--primaryColor)}.form-check-label[_ngcontent-%COMP%]{position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;float:left}.form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.check-span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:50%;border:2px solid var(--primaryColor)}.check-span[_ngcontent-%COMP%], .form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .check-span[_ngcontent-%COMP%]{background-color:#fff}.check-span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .check-span[_ngcontent-%COMP%]:after{display:block}.form-check-label[_ngcontent-%COMP%]   .check-span[_ngcontent-%COMP%]:after{left:2px;top:2px;width:17px;height:17px;background:var(--primaryColor);border-radius:50%}.form-check-inline[_ngcontent-%COMP%]{align-items:center;padding-left:0;margin-right:.75rem;float:left;width:25%}.form-control[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:var(--primaryColor);outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}html[lang=ar][_ngcontent-%COMP%]   .track_order_outter_detail[_ngcontent-%COMP%]   .billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left!important}'],data:{animation:[Object(L.m)("fade",[Object(L.l)("void => *",[Object(L.k)({opacity:0}),Object(L.e)("500ms ease-in-out",Object(L.k)({opacity:1}))])])]}}),e})();var Bn=r("hOUv");function $n(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.Sc(" ",b.oc(2,1,null==e.order?null:e.order.created_on,"medium","+000"),"")}}function jn(e,t){if(1&e&&(b.Zb(0,"div",3),b.Zb(1,"div",17),b.Zb(2,"p",18),b.Zb(3,"strong"),b.Qc(4),b.lc(5,"translate"),b.Yb(),b.Zb(6,"span",19),b.Qc(7),b.Yb(),b.Yb(),b.Zb(8,"p"),b.Zb(9,"strong"),b.Qc(10),b.lc(11,"translate"),b.Yb(),b.Qc(12),b.Yb(),b.Yb(),b.Yb()),2&e){const e=t.$implicit,r=b.kc();b.Hb(2),b.Nc("color",r.style.baseColor),b.Hb(2),b.Sc("",8==r.order.type?"Service:":b.mc(5,9,"Item:")," "),b.Hb(2),b.rc("title",null==e?null:e.name),b.Hb(1),b.Rc(null==e?null:e.name),b.Hb(1),b.Nc("color",r.style.baseColor),b.Hb(2),b.Rc(b.mc(11,11,"Quantity:")),b.Hb(2),b.Sc(" ",null==e?null:e.quantity," ")}}function Wn(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.lc(2,"date"),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.Sc(" ",b.oc(2,1,null==e.order?null:e.order.delivered_on,"medium","+000")," ")}}const Gn=function(){return[5,6]};function Vn(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.lc(2,"date"),b.lc(3,"date"),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.Sc(" ",8==(null==e.settings?null:e.settings.app_type)?b.oc(2,1,null==e.order?null:e.order.delivered_on,"medium","+000"):b.vc(9,Gn).includes(null==e.order?null:e.order.status)?b.oc(3,5,null==e.order?null:e.order.delivered_on,"medium","+000"):(null==e.order?null:e.order.delivery_min_time)+" min to "+(null==e.order?null:e.order.delivery_max_time)+" min"," ")}}function Xn(e,t){if(1&e&&(b.Zb(0,"span"),b.Zb(1,"p"),b.Qc(2),b.lc(3,"translate"),b.Yb(),b.Oc(4,Wn,3,5,"p",8),b.Oc(5,Vn,4,10,"p",8),b.Yb()),2&e){const e=b.kc();b.Nc("color",e.style.baseColor),b.Hb(2),b.Sc(" ",8==e.order.type?"Service date":b.vc(7,Gn).includes(null==e.order?null:e.order.status)?"Delivered On:":b.mc(3,5,"Expected Delivery On:")," "),b.Hb(2),b.rc("ngIf",0==e.settings.show_expected_delivery_between),b.Hb(1),b.rc("ngIf",1==e.settings.show_expected_delivery_between)}}function Jn(e,t){if(1&e){const e=b.ac();b.Zb(0,"a",20),b.gc("click",(function(){return b.Hc(e),b.kc().cancel.emit()})),b.Qc(1),b.lc(2,"translate"),b.lc(3,"translate"),b.lc(4,"localization"),b.Yb()}if(2&e){const e=b.kc();b.rc("ngStyle",e.cancelButton),b.Hb(1),b.Tc("",b.mc(2,3,"Cancel")," ",b.mc(3,5,b.nc(4,7,"order",null==e.order?null:e.order.type)),"")}}const Kn=function(e,t){return{"background-color":e,"border-color":t}},ei=function(){return[2,5,8]};let ti=(()=>{class e{constructor(e){this.router=e,this.cancel=new b.q,this.currency=z.a.CURRENCY,this.cancelButton=new le.a}ngOnInit(){this.cancelButton.color=this.style.primaryColor,this.cancelButton.borderColor=this.style.primaryColor,this.cancelButton.backgroundColor="#ffffff"}ngOnChanges(e){e.style&&(this.cancelButton.color=this.style.primaryColor,this.cancelButton.borderColor=this.style.primaryColor)}makeProductCount(e){let t=0;for(let r in e)t+=e[r].quantity;return t}orderPrice(e){let t=parseFloat(e.net_amount);return t=parseFloat(e.net_amount)+parseFloat(e.tip_agent)-parseFloat(e.discountAmount)-parseFloat(e.referral_amount),1==this.settings.supplier_service_fee&&e.user_service_charge&&(t+=e.user_service_charge/100*t),t?t.toFixed(2):t}orderDetail(e){this.router.navigate(["/orders/order-detail"],{queryParams:{orderId:[e.order_id]}})}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(X.g))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-list-item"]],inputs:{style:"style",settings:"settings",order:"order"},outputs:{cancel:"cancel"},features:[b.Fb],decls:39,vars:45,consts:[[1,"track_order_outter",3,"ngStyle"],[1,"head"],[1,"row"],[1,"col-md-6"],[1,"float-left"],[1,"float-right"],[1,"row","order"],[1,"float-left","date"],[4,"ngIf"],[1,"body"],[1,"row","item-row","mt-2"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"foot"],[3,"color",4,"ngIf"],[2,"margin-top","-6px"],["class","float-right cancel-btn margin-left-10",3,"ngStyle","click",4,"ngIf"],[1,"float-right","cancel-btn",3,"ngStyle","click"],[1,"item-column"],[1,"ellipsis"],["data-toggle","tooltip",3,"title"],[1,"float-right","cancel-btn","margin-left-10",3,"ngStyle","click"]],template:function(e,t){1&e&&(b.Xb(0),b.Zb(1,"div",0),b.Zb(2,"div",1),b.Zb(3,"div",2),b.Zb(4,"div",3),b.Zb(5,"h5",4),b.lc(6,"orderStatusColor"),b.Qc(7),b.lc(8,"orderStatus"),b.Yb(),b.Yb(),b.Zb(9,"div",3),b.Zb(10,"h5",5),b.Qc(11),b.lc(12,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Zb(13,"div",6),b.Zb(14,"div",3),b.Zb(15,"div",7),b.Zb(16,"p"),b.Qc(17),b.lc(18,"translate"),b.Yb(),b.Oc(19,$n,3,5,"p",8),b.Yb(),b.Yb(),b.Zb(20,"div",3),b.Zb(21,"p",5),b.Qc(22),b.lc(23,"translate"),b.lc(24,"localization"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(25,"div",9),b.Zb(26,"div",10),b.Oc(27,jn,13,13,"div",11),b.Yb(),b.Yb(),b.Zb(28,"div",12),b.Zb(29,"div",2),b.Zb(30,"div",3),b.Zb(31,"div",7),b.Oc(32,Xn,6,8,"span",13),b.Yb(),b.Yb(),b.Zb(33,"div",3),b.Zb(34,"div",14),b.Oc(35,Jn,5,10,"a",15),b.Zb(36,"a",16),b.gc("click",(function(){return t.orderDetail(t.order)})),b.Qc(37),b.lc(38,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Wb()),2&e&&(b.Hb(1),b.rc("ngStyle",b.xc(41,Kn,t.style.cardBackgroundColor,t.style.secondaryColor)),b.Hb(4),b.Nc("color",b.mc(6,25,null==t.order?null:t.order.status)),b.Hb(2),b.Sc(" ",b.nc(8,27,null==t.order?null:t.order.status,null==t.order?null:t.order.type),""),b.Hb(3),b.Nc("color",t.style.primaryColor),b.Hb(1),b.Vc(" ",t.currency," ",null==t.order?null:t.order.net_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),", ",t.makeProductCount(null==t.order?null:t.order.product)," ",8==t.order.type?"Service(s)":b.mc(12,30,"item(s)")," "),b.Hb(4),b.Nc("color",t.style.baseColor),b.Hb(2),b.Rc(8==t.order.type?"Booked On":b.mc(18,32,"Placed On")),b.Hb(2),b.rc("ngIf",t.order.created_on&&"Invalid date"!=t.order.created_on),b.Hb(2),b.Nc("color",t.style.baseColor),b.Hb(1),b.Tc(" ",b.mc(23,34,b.nc(24,36,"order",null==t.order?null:t.order.type)+" No:")," ",null==t.order?null:t.order.order_id,""),b.Hb(5),b.rc("ngForOf",null==t.order?null:t.order.product),b.Hb(4),b.Nc("color",t.style.defaultColor),b.Hb(1),b.rc("ngIf","Invalid date"!=(null==t.order?null:t.order.delivered_on)&&"0000-00-00 00:00:00"!=(null==t.order?null:t.order.delivered_on)),b.Hb(3),b.rc("ngIf",!b.vc(44,ei).includes(null==t.order?null:t.order.status)),b.Hb(1),b.rc("ngStyle",t.cancelButton),b.Hb(1),b.Rc(b.mc(38,39,"View Detail")))},directives:[g.n,g.m,g.l],pipes:[ot,He,O.d,_.a,g.e],encapsulation:2}),e})();function ri(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",14),b.Zb(1,"app-order-list-item",15),b.gc("cancel",(function(){b.Hc(e);const r=t.$implicit;return b.kc(3).cancelOrder(r)})),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit,r=b.kc(3);b.Hb(1),b.Mc(r.style),b.rc("order",e)("settings",r.settings)}}function ni(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",16),b.Zb(1,"pagination-controls",17),b.gc("pageChange",(function(t){return b.Hc(e),b.kc(3).pageChange(t)})),b.Yb(),b.Yb()}if(2&e){const e=b.kc(3);b.Hb(1),b.Nc("color",e.style.primaryColor)}}const ii=function(e,t,r){return{itemsPerPage:e,currentPage:t,totalItems:r}};function ci(e,t){if(1&e&&(b.Zb(0,"div",2),b.Oc(1,ri,2,4,"div",12),b.lc(2,"paginate"),b.Oc(3,ni,2,2,"div",13),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.rc("ngForOf",b.nc(2,2,e.orders,b.yc(5,ii,e.pagination.perPageOrder,e.pagination.currentPage,e.pagination.count))),b.Hb(2),b.rc("ngIf",e.pagination.count>e.pagination.perPageOrder)}}function li(e,t){if(1&e&&(b.Zb(0,"div",18),b.Zb(1,"h1"),b.Qc(2),b.lc(3,"translate"),b.lc(4,"localization"),b.lc(5,"translate"),b.Yb(),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.Uc("",b.mc(3,5,"No")," ",b.mc(4,7,"order")," ",b.mc(5,9,"Found"),"")}}function si(e,t){if(1&e&&(b.Xb(0),b.Oc(1,ci,4,9,"div",10),b.Oc(2,li,6,11,"div",11),b.Wb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngIf",e.pagination.count>0),b.Hb(1),b.rc("ngIf",!e.pagination.count&&e.noData)}}function oi(e,t){if(1&e&&(b.Zb(0,"div",20),b.Ub(1,"app-order-list-item-skeleton",21),b.Yb()),2&e){const e=b.kc(2);b.Hb(1),b.Mc(e.style),b.rc("settings",e.settings)}}function di(e,t){if(1&e&&(b.Zb(0,"div",2),b.Oc(1,oi,2,3,"div",19),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.rc("ngForOf",e.util.generateFakeList(6))}}const ai=function(e,t){return{color:e,"border-color":t,opacity:1}},ui=function(e,t){return{color:e,"border-color":t,opacity:.5}};function bi(e,t){1&e&&b.Ub(0,"app-processing-indicator")}function pi(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.lc(2,"localization"),b.Zb(3,"span"),b.Qc(4),b.Yb(),b.Yb()),2&e){const e=b.kc(2);b.Nc("color",e.style.baseColor),b.Hb(1),b.Sc("",b.mc(2,6,"supplier"),":"),b.Hb(2),b.Nc("color",e.style.primaryColor),b.Hb(1),b.Sc(" ",null==e.product?null:e.product.supplier_name," ")}}function gi(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"h3"),b.Qc(2),b.Yb(),b.Oc(3,pi,5,8,"p",16),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.Sc("","product"===e.type?null==e.product?null:e.product.name:null==e.product?null:e.product.supplier_name," "),b.Hb(1),b.rc("ngIf","product"===e.type)}}function yi(e,t){if(1&e&&(b.Zb(0,"h5"),b.Ub(1,"i",17),b.Qc(2),b.Yb()),2&e){const e=b.kc(2);b.Nc("color",e.style.baseColor),b.Hb(2),b.Sc(" ",e.supplier.address,"")}}function hi(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"h3"),b.Qc(2),b.Yb(),b.Oc(3,yi,3,3,"h5",16),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.Rc(null==e.supplier?null:e.supplier.name),b.Hb(1),b.rc("ngIf",null==e.supplier?null:e.supplier.address)}}function fi(e,t){if(1&e&&(b.Zb(0,"div"),b.Zb(1,"h3"),b.Qc(2),b.Yb(),b.Yb()),2&e){const e=b.kc();b.Hb(1),b.Nc("color",e.style.baseColor),b.Hb(1),b.Sc("",e.agentName," ")}}function mi(e,t){if(1&e){const e=b.ac();b.Zb(0,"input",18),b.gc("ngModelChange",(function(t){return b.Hc(e),b.kc().title=t})),b.Yb()}if(2&e){const e=b.kc();b.rc("ngModel",e.title)}}const Hi=function(e,t){return{"background-color":e,"border-color":t}},Oi=function(){return[1,2,3,4,5]},_i=function(){return[2,3,4,5]},vi=function(){return[3,4,5]},ki=function(){return[4,5]};function Yi(e,t){if(1&e&&(b.Zb(0,"h3"),b.Qc(1),b.lc(2,"localization"),b.Yb()),2&e){const e=b.kc();b.Nc("color",e.style.baseColor),b.Hb(1),b.Sc("Track ",b.mc(2,3,"agent"),"")}}function Zi(e,t){if(1&e&&(b.Zb(0,"h3"),b.Qc(1),b.lc(2,"localization"),b.lc(3,"translate"),b.Yb()),2&e){const e=b.kc();b.Nc("color",e.style.baseColor),b.Hb(1),b.Tc("",b.mc(2,4,"supplier")," ",b.mc(3,6,"location"),"")}}function Ci(e,t){if(1&e&&(b.Zb(0,"h4",13),b.Qc(1),b.Yb()),2&e){const e=b.kc();b.Nc("color",e.style.primaryColor),b.Hb(1),b.Sc("Estimated Time Of Arrival : ",null==e.location?null:e.location.estimatedTimeInMinutes,"")}}function Ii(e,t){if(1&e&&(b.Zb(0,"p"),b.Qc(1),b.lc(2,"localization"),b.Yb()),2&e){const e=b.kc();b.Nc("color",e.style.baseColor),b.Hb(1),b.Tc("",b.mc(2,4,"order")," No: ",null==e.location?null:e.location.order_id,"")}}const Si=function(){return["/orders/order-detail"]},Qi=function(e){return{orderId:e}},Ti=[{path:"order-detail",component:Ln,data:{title:"Track order",description:"Order Description",keyword:"shopping, ecommerce"}},{path:"order-listing",component:(()=>{class e{constructor(e,t,r,n,i,c,l,s,d,a){this.route=e,this.router=t,this.http=r,this.util=n,this.user=i,this.message=c,this.localization=l,this.translate=s,this.seo=d,this.window=a,this.orders=[],this.status=[],this.noData=!1,this.isLoading=!0,this.style=new h.a,this.cancelButton=new le.a,this.orderType="pending_orders",this.currency=z.a.CURRENCY,this.pagination=new o.a,this.pagination.perPageOrder=6}ngOnInit(){this.seo.updateTitle(`${this.localization.transform("order")} Listing | ${z.a.SITE_NAME}`),this.route.snapshot.queryParams.orderType&&(this.orderType=this.route.snapshot.queryParams.orderType,this.pagination.offset=this.route.snapshot.queryParams.offset||0),this.styleSubscription=this.util.getStyles.subscribe(e=>{this.style=e,this.cancelButton.color=e.primaryColor,this.cancelButton.borderColor=e.primaryColor,this.cancelButton.backgroundColor="#ffffff"}),this.settingsSubscription=this.util.getSettings.subscribe(e=>{e&&(this.settings=e)}),this.makeSubscribe()}makeSubscribe(){this.getDataSubscribe=this.util.callGetData.subscribe(e=>{e&&this.getOrders()})}getOrders(){this.isLoading=!0;let e="";switch(this.orderType){case"orders":e=u.a.orders.getOrderHistory;break;case"pending_orders":e=u.a.orders.getUpcomingOrders;break;case"schedule_orders":e=u.a.orders.getScheduledOrders}let t={languageId:this.util.handler.languageId,accessToken:this.user.getUserToken,offset:this.pagination.offset,limit:this.pagination.perPageOrder};this.noData=!1,this.http.postData(e,t).subscribe(e=>{this.isLoading=!1,this.noData=!0,e&&e.data&&(this.pagination.count=e.data.count,this.orders=e.data.orderHistory),this.navigateTo()},e=>this.isLoading=!1)}navigateTo(){this.router.navigate([],{relativeTo:this.route,queryParams:{orderType:this.orderType,offset:this.pagination.offset}}).then(()=>{this.seo.updateTitle(`${this.localization.transform("order")} Listing | ${z.a.SITE_NAME}`)})}pageChange(e){this.pagination.currentPage=e,this.pagination.offset=e>1?(e-1)*this.pagination.perPageOrder:0,this.getOrders(),this.window.scrollTo(0,0)}orderTypeSelect(e){this.orderType!=e&&(this.orderType=e,this.pagination.currentPage=1,this.pagination.offset=0,this.getOrders())}cancelOrder(e){this.message.confirm(`${this.translate.instant("Cancel This")} ${this.localization.transform("order")}`).then(t=>{t.value&&this.http.postData(u.a.orders.cancelOrder,{languageId:this.util.handler.languageId,accessToken:this.user.getUserToken,orderId:e.order_id,isScheduled:e.schedule_order}).subscribe(e=>{e&&e.data&&(this.message.toast("success",`${this.localization.transform("order")} ${this.translate.instant("Cancelled Successfully")}`),this.getOrders())})})}ngOnDestroy(){this.styleSubscription.unsubscribe(),this.getDataSubscribe.unsubscribe(),this.settingsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(X.a),b.Tb(X.g),b.Tb(d.a),b.Tb(a.a),b.Tb(E.a),b.Tb(s.a),b.Tb(_.a),b.Tb(O.e),b.Tb(F.a),b.Tb(Bn.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-order-listing"]],decls:32,vars:50,consts:[[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)",1,"active"],[1,"product_result_body"],[1,"order-tabs"],[1,"cursor",3,"ngStyle","click"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","row",4,"ngIf"],["class","no-data",4,"ngIf"],["class","col-md-6",4,"ngFor","ngForOf"],["class","custom-pagination",4,"ngIf"],[1,"col-md-6"],[3,"order","settings","cancel"],[1,"custom-pagination"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"no-data"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],[3,"settings"]],template:function(e,t){if(1&e&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"ul"),b.Zb(5,"li"),b.Zb(6,"a",4),b.Qc(7),b.lc(8,"translate"),b.lc(9,"localization"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(10,"section",5),b.Zb(11,"div",1),b.Zb(12,"div",2),b.Zb(13,"div",3),b.Zb(14,"h1"),b.Qc(15),b.lc(16,"translate"),b.lc(17,"localization"),b.Yb(),b.Zb(18,"ul",6),b.Zb(19,"li",7),b.gc("click",(function(){return t.orderTypeSelect("pending_orders")})),b.Zb(20,"a"),b.Qc(21),b.lc(22,"translate"),b.lc(23,"localization"),b.Yb(),b.Yb(),b.Zb(24,"li",7),b.gc("click",(function(){return t.orderTypeSelect("orders")})),b.Zb(25,"a"),b.Qc(26),b.lc(27,"translate"),b.lc(28,"localization"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Oc(29,si,3,2,"ng-container",8),b.Oc(30,di,2,1,"ng-template",null,9,b.Pc),b.Yb(),b.Yb()),2&e){const e=b.Ec(31);b.Nc("background-color",t.style.backgroundColor),b.Hb(6),b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc("",b.mc(8,14,"My "+b.oc(9,16,"orders",null==t.settings?null:t.settings.app_type,1))," "),b.Hb(7),b.Nc("color",t.style.baseColor),b.Hb(1),b.Rc(b.mc(16,20,"My "+b.oc(17,22,"orders",null==t.settings?null:t.settings.app_type,1))),b.Hb(4),b.rc("ngStyle","pending_orders"===t.orderType?b.xc(38,ai,t.style.primaryColor,t.style.primaryColor):b.xc(41,ui,t.style.baseColor,t.style.baseColor)),b.Hb(2),b.Rc(b.mc(22,26,"Active "+b.oc(23,28,"orders",null==t.settings?null:t.settings.app_type,1))),b.Hb(3),b.rc("ngStyle","orders"===t.orderType?b.xc(44,ai,t.style.primaryColor,t.style.primaryColor):b.xc(47,ui,t.style.baseColor,t.style.baseColor)),b.Hb(2),b.Rc(b.mc(27,32,"Past "+b.oc(28,34,"orders",null==t.settings?null:t.settings.app_type,1))),b.Hb(3),b.rc("ngIf",!t.isLoading)("ngIfElse",e)}},directives:[g.n,g.m,g.l,ti,y.c,H],pipes:[O.d,_.a,y.b],styles:[""]}),e})(),data:{title:"Order listing",description:"Order Description",keyword:"shopping, ecommerce"}},{path:"rating",component:(()=>{class e{constructor(e,t,r,n,i,c,l,s){this.util=e,this.http=t,this.route=r,this.message=n,this.localization=i,this.translate=c,this.seo=l,this.user=s,this.branchId="",this.productId="",this.rating=0,this.title="",this.review="",this.orderIds=[],this.type="",this.supplierId="",this.categoryId="",this.image="",this.supplier="",this.isLoading=!1,this.style=new h.a,this.submit=new le.a}ngOnInit(){this.seo.updateTitle("Rating | "+z.a.SITE_NAME),this.util.getStyles.subscribe(e=>{this.style=e,this.submit.backgroundColor=e.primaryColor,this.submit.borderColor=e.primaryColor,this.submit.color="#ffffff"}),this.settingsSubscription=this.util.getSettings.subscribe(e=>{e&&(this.settings=e)}),this.subscribeRoute()}subscribeRoute(){this.routeSubscription=this.route.queryParams.subscribe(e=>{this.type=e.type,this.branchId=e.supplierBranchId,this.productId=e.productId?e.productId:null,this.supplierId=e.supplierId?e.supplierId:null,this.orderIds=e.orderId?e.orderId:null,this.categoryId=e.categoryId?e.categoryId:null,this.agentId=e.categoryId?e.agentId:null,this.agentName=e.categoryId?e.agentName:null,"product"==this.type?this.getProductDetail():"supplier"==this.type&&this.supplierDetail()}),console.log(this.route.snapshot.data)}supplierDetail(){this.http.postData(u.a.getSupplierDetail,{languageId:this.util.handler.languageId,branchId:this.branchId,supplierId:this.supplierId,categoryId:this.categoryId,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude}).subscribe(e=>{e&&e.data&&(this.image=e.data.logo,this.supplier=e.data)})}getProductDetail(){this.http.postData(u.a.getProductDetail,{languageId:this.util.handler.languageId,productId:this.productId,supplierBranchId:this.branchId,offer:0,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude}).subscribe(e=>{e&&e.data&&(this.product=e.data,this.image=this.product.image_path[0])})}rateProduct(e){this.rating===e?this.rating>0&&this.rating--:this.rating=e}onSubmit(){if(0!==this.rating){if("product"===this.type){let e={title:this.title,reviews:this.review,product_id:this.productId,value:this.rating,order_id:this.orderIds[0]||""};this.isLoading=!0,this.http.postData(u.a.rateProduct,e).subscribe(e=>{e&&this.moveTo(),this.isLoading=!1},e=>this.isLoading=!1)}else if("supplier"===this.type){let e={accessToken:this.user.getUserToken,comment:this.review,supplierId:this.product?this.product.supplier_id:this.supplierId,rating:this.rating,orderId:this.orderIds};this.isLoading=!0,this.http.postData(u.a.rateSupplier,e).subscribe(e=>{e&&this.moveTo(),this.isLoading=!1},e=>this.isLoading=!1)}else if("agent"==this.type){let e={accessToken:this.user.getUserToken,comment:this.review,agnetId:this.agentId,rating:this.rating,orderId:this.orderIds,languageId:this.util.handler.languageId};this.isLoading=!0,this.http.postData(u.a.rateAgent,e).subscribe(e=>{e&&this.moveTo(),this.isLoading=!1},e=>this.isLoading=!1)}}else this.message.toast("warning",`${this.translate.instant("Please Rate")} ${this.localization.transform("PRODUCT"===this.type?"product":"supplier")}`)}moveTo(){switch(this.type){case"PRODUCT":this.message.toast("success",`${this.localization.transform("product")} ${this.translate.instant("Rated Successfully")}`);break;case"SUPPLIER":this.message.toast("success",`${this.localization.transform("supplier")} ${this.translate.instant("Rated Successfully")}`);break;case"AGENT":this.message.toast("success",`${this.localization.transform("agent")} ${this.translate.instant("Rated Successfully")}`)}this.util.goBack()}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.settingsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(a.a),b.Tb(d.a),b.Tb(X.a),b.Tb(s.a),b.Tb(_.a),b.Tb(O.e),b.Tb(F.a),b.Tb(E.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-rating"]],decls:30,vars:31,consts:[[4,"ngIf"],[1,"rating_and_reviews_page"],[1,"container"],[1,"row"],[1,"col-md-9"],[1,"rating_and_reviews_left",3,"ngStyle"],[1,"user_rating_reviews"],["onError","src = './assets/images/placeholder_image.svg';",3,"src"],[1,"user-review-part"],[1,"user_rating_star"],["aria-hidden","true",1,"cursor",3,"ngClass","click"],[1,"col-md-12"],[1,"rating-form"],["class","title","type","text","placeholder","Title for your review","name","title",3,"ngModel","ngModelChange",4,"ngIf"],["placeholder","Write your review here...","name","review",3,"ngModel","ngModelChange"],[1,"btn",3,"ngStyle","click"],[3,"color",4,"ngIf"],["aria-hidden","true",1,"fa","fa-map-marker","mr-1"],["type","text","placeholder","Title for your review","name","title",1,"title",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(b.Oc(0,bi,1,0,"app-processing-indicator",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"div",4),b.Zb(5,"div",5),b.Zb(6,"h2"),b.Qc(7),b.lc(8,"translate"),b.Yb(),b.Zb(9,"div",6),b.Ub(10,"img",7),b.Zb(11,"div",8),b.Oc(12,gi,4,4,"div",0),b.Oc(13,hi,4,4,"div",0),b.Oc(14,fi,3,3,"div",0),b.Yb(),b.Zb(15,"div",9),b.Zb(16,"span"),b.Zb(17,"i",10),b.gc("click",(function(){return t.rateProduct(1)})),b.Yb(),b.Zb(18,"i",10),b.gc("click",(function(){return t.rateProduct(2)})),b.Yb(),b.Zb(19,"i",10),b.gc("click",(function(){return t.rateProduct(3)})),b.Yb(),b.Zb(20,"i",10),b.gc("click",(function(){return t.rateProduct(4)})),b.Yb(),b.Zb(21,"i",10),b.gc("click",(function(){return t.rateProduct(5)})),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(22,"div",3),b.Zb(23,"div",11),b.Zb(24,"form",12),b.Oc(25,mi,1,1,"input",13),b.Zb(26,"textarea",14),b.gc("ngModelChange",(function(e){return t.review=e})),b.Yb(),b.Zb(27,"button",15),b.gc("click",(function(){return t.onSubmit()})),b.Qc(28),b.lc(29,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.rc("ngIf",t.isLoading),b.Hb(5),b.rc("ngStyle",b.xc(24,Hi,t.style.cardBackgroundColor,t.style.secondaryColor)),b.Hb(1),b.Nc("color",t.style.baseColor),b.Hb(1),b.Rc(b.mc(8,20,"Ratings & Review")),b.Hb(2),b.Nc("background-color",t.style.cardBackgroundColor),b.Hb(1),b.rc("src",t.image,b.Jc),b.Hb(2),b.rc("ngIf",t.productId&&!t.supplierId),b.Hb(1),b.rc("ngIf",!t.productId&&t.supplierId),b.Hb(1),b.rc("ngIf","agent"==t.type),b.Hb(3),b.rc("ngClass",b.vc(27,Oi).includes(t.rating)?"fa fa-star":"fa fa-star-o"),b.Hb(1),b.rc("ngClass",b.vc(28,_i).includes(t.rating)?"fa fa-star":"fa fa-star-o"),b.Hb(1),b.rc("ngClass",b.vc(29,vi).includes(t.rating)?"fa fa-star":"fa fa-star-o"),b.Hb(1),b.rc("ngClass",b.vc(30,ki).includes(t.rating)?"fa fa-star":"fa fa-star-o"),b.Hb(1),b.rc("ngClass",5===t.rating?"fa fa-star":"fa fa-star-o"),b.Hb(4),b.rc("ngIf","product"===t.type),b.Hb(1),b.rc("ngModel",t.review),b.Hb(1),b.rc("ngStyle",t.submit),b.Hb(1),b.Rc(b.mc(29,22,"Submit")))},directives:[g.m,g.n,g.k,J.x,J.n,J.o,J.b,J.m,J.p,ee.a],pipes:[O.d,_.a],styles:[".radio[_ngcontent-%COMP%]{font-weight:500}.radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:sub;margin-left:6px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:4px;padding:10px}"]}),e})()},{path:"track-order",component:(()=>{class e{constructor(e,t,r,n,i,c){this.socket=e,this.route=t,this.util=r,this.localization=n,this.translate=i,this.document=c,this.orderId="",this.map={},this.agentMarker=null,this.destinationMaker=null,this.location={},this.destination_icon={},this.agent_icon={},this.tracking=!1,this.status=[],this.supplier_lat=0,this.supplier_lng=0,this.agent_lat=0,this.agent_lng=0,this.self_pickup=0,this.routeSubscription=this.route.queryParams.subscribe(e=>{this.orderId=e.orderId,this.supplier_lat=parseFloat(e.lat),this.supplier_lng=parseFloat(e.lng),this.agent_lat=parseFloat(e.a_lat),this.agent_lng=parseFloat(e.a_lng),this.self_pickup=parseInt(e.selfPickup)}),this.destination_icon={url:1==this.self_pickup?"https://i.imgur.com/F5uH1Fr.png":"https://i.imgur.com/7teZKif.png",scaledSize:{width:37,height:37}},this.agent_icon={url:1==this.self_pickup?"../assets/images/user.png":"../assets/images/agentBike.png",scaledSize:{width:65,height:65}}}ngOnInit(){this.styleSubscription=this.util.getStyles.subscribe(e=>{this.style=e}),this.util.settingsLoaded.subscribe(e=>{e&&(this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:!0}),this.initialize(),this.self_pickup?(this.location.latitude=this.util.handler.latitude,this.location.longitude=this.util.handler.longitude,this.trackLocation()):this.getLocation())})}getLocation(){this.socket.getLocation().subscribe(e=>{e&&(this.location=e,e.order_id==this.orderId&&this.trackLocation())})}initialize(){this.map=new google.maps.Map(this.document.getElementById("trackLocation"),{zoom:12,streetViewControl:!1,disableDefaultUI:!1,mapTypeControl:!1}),this.directionsDisplay.setMap(this.map),this.map.setCenter({lat:this.agent_lat,lng:this.agent_lng});let e=new google.maps.LatLng({lat:this.agent_lat,lng:this.agent_lng});this.setAgentMarker(e)}trackLocation(){const e=this;let t=this.getDestination(),r=new google.maps.LatLng(t[0],t[1]),n={origin:new google.maps.LatLng(e.location.latitude,e.location.longitude),destination:r,optimizeWaypoints:!0,travelMode:google.maps.DirectionsTravelMode.DRIVING};this.directionsService.route(n,(t,r)=>{if(r==google.maps.DirectionsStatus.OK){this.directionsDisplay.setDirections(t),this.directionsDisplay.setMap(e.map),this.agentMarker&&this.agentMarker.setMap(null);const r=t.routes[0].legs[0];this.setAgentMarker(r.start_location),this.setDestinationMaker(r.end_location)}})}setAgentMarker(e){this.agent_icon.rotation=this.location.bearing,this.agentMarker=new google.maps.Marker({position:e,map:this.map,title:1==this.self_pickup?this.translate.instant("Customer"):this.localization.transform("agent"),icon:this.agent_icon})}setDestinationMaker(e){this.destinationMaker=new google.maps.Marker({position:e,map:this.map,title:1==this.self_pickup?this.localization.transform("supplier"):"Destination",icon:this.destination_icon}),this.tracking||(this.destinationMaker.setPosition(e),this.map.panTo(e),this.tracking=!0)}getDestination(){if(1==this.self_pickup)return[""+this.supplier_lat,""+this.supplier_lng];if(this.location.address&&this.location.address.length){let e=this.location.address[0];return[e.latitude,e.longitude]}}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.styleSubscription.unsubscribe(),this.socket.removeListener("order_location")}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(i.a),b.Tb(X.a),b.Tb(a.a),b.Tb(_.a),b.Tb(O.e),b.Tb(g.d))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-track-order"]],decls:35,vars:28,consts:[[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)",3,"routerLink","queryParams"],["href","javascript:void(0)",1,"uk-text-bold"],[1,"product_result_body","pb-4"],[1,"col"],[3,"color",4,"ngIf"],["class","text-right",3,"color",4,"ngIf"],[1,"col-md-6"],[1,"float-right"],["id","trackLocation"],[1,"text-right"]],template:function(e,t){1&e&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"ul"),b.Zb(5,"li"),b.Zb(6,"a",4),b.Qc(7),b.lc(8,"localization"),b.Yb(),b.Yb(),b.Zb(9,"li"),b.Zb(10,"a",5),b.Qc(11),b.lc(12,"localization"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(13,"section",6),b.Zb(14,"div",1),b.Zb(15,"div",2),b.Zb(16,"div",3),b.Zb(17,"div",2),b.Zb(18,"div",7),b.Oc(19,Yi,3,5,"h3",8),b.Oc(20,Zi,4,8,"h3",8),b.Yb(),b.Zb(21,"div",7),b.Oc(22,Ci,2,3,"h4",9),b.Yb(),b.Yb(),b.Ub(23,"br"),b.Yb(),b.Yb(),b.Zb(24,"div",2),b.Zb(25,"div",10),b.Oc(26,Ii,3,6,"p",8),b.Yb(),b.Zb(27,"div",10),b.Zb(28,"p",11),b.lc(29,"orderStatusColor"),b.Qc(30),b.lc(31,"orderStatus"),b.Yb(),b.Yb(),b.Yb(),b.Zb(32,"div",2),b.Zb(33,"div",3),b.Ub(34,"div",12),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.Nc("background-color",t.style.backgroundColor),b.Hb(6),b.Nc("color",t.style.baseColor),b.rc("routerLink",b.vc(25,Si))("queryParams",b.wc(26,Qi,t.orderId)),b.Hb(1),b.Sc("",b.mc(8,17,"order")," Detail"),b.Hb(3),b.Nc("color",t.style.baseColor),b.Hb(1),b.Sc("",b.mc(12,19,"order")," Tracking"),b.Hb(8),b.rc("ngIf",0==t.self_pickup),b.Hb(1),b.rc("ngIf",1==t.self_pickup),b.Hb(2),b.rc("ngIf",t.location.estimatedTimeInMinutes),b.Hb(4),b.rc("ngIf",null==t.location?null:t.location.order_id),b.Hb(2),b.Nc("color",b.mc(29,21,null==t.location?null:t.location.status)),b.Hb(2),b.Sc("",b.mc(31,23,null==t.location?null:t.location.status)," "))},directives:[X.j,g.m],pipes:[_.a,ot,He,O.d],styles:["#trackLocation[_ngcontent-%COMP%]{height:550px;border-radius:4px}h3[_ngcontent-%COMP%]{font-weight:400}"]}),e})(),data:{title:"tracking",description:"Order tracking",keyword:"shopping, ecommerce"}},{path:"order-request",component:N,data:{title:"order request",description:"Order request",keyword:"shopping, ecommerce"}}];let Pi=(()=>{class e{}return e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({factory:function(t){return new(t||e)},imports:[[g.c,X.k.forChild(Ti)],X.k]}),e})();var wi=r("RH9n"),Di=r("nO2T"),xi=r("aLPR");let Ni=(()=>{class e{}return e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({factory:function(t){return new(t||e)},providers:[c.a,i.a],imports:[[g.c,Di.a,n.a,Pi,wi.b,xi.a]]}),e})()}}]);